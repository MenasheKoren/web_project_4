(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{w$:()=>ae,$P:()=>oe,xS:()=>X});var t={inputSelector:".field-input",submitButtonSelector:".popup__save"},n=document.querySelector(".popup_type_edit-profile"),r=document.querySelector(".popup_type_add-card"),o=document.querySelector(".popup_type_edit-avatar"),i=(document.querySelector(".card-template").content.querySelector(".card"),document.querySelector(".card-list"),document.querySelectorAll(".card"),document.querySelector(".popup_type_edit-profile")),a=document.querySelector(".popup_type_add-card"),u=document.querySelector(".popup_type_image"),c=(document.querySelector(".popup_opened"),i.querySelector(".popup__close"),a.querySelector(".popup__close"),u.querySelector(".popup__close"),document.querySelector(".edit-button")),l=document.querySelector(".add-button"),s=document.querySelector(".avatar"),f=i.querySelector(".field-input_type_name"),p=i.querySelector(".field-input_type_profession");function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}a.querySelector(".field-input_type_card-title"),a.querySelector(".field-input_type_card-link"),document.querySelector(".edit-name"),document.querySelector(".profile-info__profession"),document.querySelectorAll(".field-input"),i.querySelector(".popup__form"),a.querySelector(".popup__form"),u.querySelector(".popup__figure"),u.querySelector(".popup__image"),u.querySelector(".popup__caption");var y=function(){function e(t,n,r,o,i,a){var u,c,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c=function(){return l._cardElement=l._cardTemplate.cloneNode(!0),l._cardTitle=l._cardElement.querySelector(".card__location"),l._cardImage=l._cardElement.querySelector(".card__image"),l._cardTitle.textContent=l._name,l._cardImage.src=l._link,l._cardImage.alt=l._name,l._ownerId!==l._userId&&(l._cardElement.querySelector(".card__remove").style.display="none"),l._cardElement.querySelector(".card__likes-count").textContent=l._likes.length,l.isLiked()&&l.likeCard(l._likes),l._setEventListeners(),l._cardElement},(u="createCardElement")in this?Object.defineProperty(this,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):this[u]=c,this._name=t.name,this._link=t.link,this._likes=t.likes,this._templateCardSelector=n,this._handleCardClick=r,this._handleRemoveCard=i,this._handleLikeButton=o,this._id=t._id,this._userId=a,this._ownerId=t.owner._id,this._cardTemplate=document.querySelector(n).content.querySelector(".card")}var t,n;return t=e,(n=[{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"likeCard",value:function(e){this._likes=e,this._cardElement.querySelector(".card__likes-count").textContent=this._likes.length,this._cardElement.querySelector(".card__like").classList.toggle("button_filled"),this._cardElement.querySelector(".card__like").classList.toggle("button_empty")}},{key:"removeCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage=this._cardElement.querySelector(".card__image"),this._removeButton=this._cardElement.querySelector(".card__remove"),this._likeButton=this._cardElement.querySelector(".card__like"),this._likeButton.addEventListener("click",(function(){return e._handleLikeButton(e._id)})),this._removeButton.addEventListener("click",(function(){return e._handleRemoveCard(e._id)})),this._cardImage.addEventListener("click",this._handleCardClick)}}])&&d(t.prototype,n),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return v("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"getUserInfo",value:function(){return v("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"editUserInfo",value:function(e){return v("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}},{key:"editAvatar",value:function(e){return v("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}},{key:"createCard",value:function(e){return v("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return v("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"likeCard",value:function(e){return v("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}},{key:"unlikeCard",value:function(e){return v("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}])&&h(t.prototype,n),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"a422b90c-eef7-4772-9177-7c895e07d221","Content-Type":"application/json"}});function m(e){var t=new y(e,".card-template",(function(){oe.open(e.link,e.name)}),(function(e){t.isLiked()?_.unlikeCard(e).then((function(e){t.likeCard(e.likes)})):_.likeCard(e).then((function(e){t.likeCard(e.likes)}))}),(function(e){ae.open(),ae.setAction((function(){b("Deleting..."),_.deleteCard(e).then((function(e){t.removeCard(),ae.close()})).finally((function(){return b("Yes")}))}))}),X);return t.createCardElement()}var v=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)})).catch(console.log)};function b(e){document.querySelector(".popup_opened .popup__save").textContent=e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=r}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.length&&e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&g(t.prototype,n),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){!t.target.classList.contains("popup__close")&&t.target.closest(".popup__container")||e.close()}))}}])&&S(t.prototype,n),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},q(e,t,n||e)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function P(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitHandler=t,n._form=n._popupElement.querySelector(".popup__form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e,t=function(e){if(Array.isArray(e))return O(e)}(e=this._form.querySelectorAll(".field-input"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n={};return t.forEach((function(e){n[e.name]=e.value})),n}},{key:"setEventListeners",value:function(){var e=this;q(L(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler(e._getInputValues()),e.close()}))}},{key:"close",value:function(){q(L(a.prototype),"close",this).call(this),this._form.reset()}}])&&C(t.prototype,n),a}(k);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){var e,t=i._settings.inputSelector;i.inputs=function(e){if(Array.isArray(e))return A(e)}(e=i._formElement.querySelectorAll(t))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i.inputs.forEach((function(e){e.addEventListener("input",(function(){i._checkValidity(e),i._toggleButtonState(i.inputs)}))}))},(r="_setEventListeners")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._settings=t,this._formElement=n}var t,n;return t=e,(n=[{key:"_showError",value:function(e){var t=e.validationMessage;this._formElement.querySelector("#".concat(e.id,"-error")).textContent=t}},{key:"_hideError",value:function(e){this._formElement.querySelector("#".concat(e.id,"-error")).textContent=""}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_toggleButtonState",value:function(){var e=this._settings.submitButtonSelector,t=this._formElement.querySelector(e),n=this.inputs.every((function(e){return e.validity.valid}));t.disabled=!n}},{key:"resetValidation",value:function(){var e=this;this.inputs.forEach((function(t){e._hideError(t)}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){return e.preventDefault()})),this._setEventListeners()}}])&&T(t.prototype,n),e}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},D(e,t,n||e)}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function N(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(r);if(o){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function a(){return x(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"open",value:function(e,t){var n=this._popupElement.querySelector(".popup__image"),r=this._popupElement.querySelector(".popup__caption");n.src=e,n.alt=t,r.textContent=t,D(H(a.prototype),"open",this).call(this),D(H(a.prototype),"setEventListeners",this).call(this)}}])&&B(t.prototype,n),a}(k);function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=document.querySelector(t),this._userProfessionElement=document.querySelector(n),this._avatarSelectorElement=document.querySelector(r)}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{userName:this._userNameElement.textContent,userProfession:this._userProfessionElement.textContent,userAvatar:this._avatarSelectorElement.src}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._userNameElement.textContent=t,this._userProfessionElement.textContent=n,this._avatarSelectorElement.src=r}}],n&&M(t.prototype,n),e}();function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},G(e,t,n||e)}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function Q(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var X,Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(r);if(o){var n=W(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function a(){return Y(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"setAction",value:function(e){this._submitHandler=e}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler()})),G(W(a.prototype),"setEventListeners",this).call(this)}}])&&F(t.prototype,n),a}(k);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Promise.all([_.getInitialCards(),_.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];X=i._id,se.renderer(o),ce.setUserInfo({name:i.name,about:i.about,avatar:i.avatar})}));var te=new R(t,n),ne=new R(t,r),re=new R(t,o),oe=new $(".popup_type_image"),ie=new I(".popup_type_add-card",(function(e){b("Saving..."),_.createCard({name:e["card-title"],link:e["card-link"]}).then((function(e){se.addItem(m(e))})).finally((function(){return b("Create")}))})),ae=new Z(".popup_type_remove-card"),ue=new I(".popup_type_edit-avatar",(function(e){b("Saving..."),_.editAvatar(e["image-link"]).then((function(e){ce.setUserInfo(e)})).finally((function(){return b("Save")}))}));c.addEventListener("click",(function(){var e=ce.getUserInfo();f.value=e.userName,p.value=e.userProfession,le.open()})),l.addEventListener("click",(function(){ie.open()})),s.addEventListener("click",(function(){ue.open()})),te.enableValidation(),ne.enableValidation(),re.enableValidation(),te.resetValidation(),ne.resetValidation(),re.resetValidation(),oe.setEventListeners(),ie.setEventListeners(),ue.setEventListeners(),ae.setEventListeners();var ce=new J(".edit-name",".profile-info__profession",".avatar__image"),le=new I(".popup_type_edit-profile",(function(e){b("Saving..."),_.editUserInfo({name:e.name,about:e.profession}).then((function(e){ce.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).finally((function(){return b("Save")})),le.close()}));le.setEventListeners();var se=new E({renderer:function(e){se.addItem(m(e))}},".card-list")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUJBLEVBQXdCLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFSCxFQUF3QixDQUFDUyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxJLHVDQ0EzRSxJQUFNSSxFQUFXLENBQ3RCQyxjQUFlLGVBQ2ZDLHFCQUFzQixnQkFHWEMsRUFBV0MsU0FBU0MsY0FBYyw0QkFDbENDLEVBQWNGLFNBQVNDLGNBQWMsd0JBQ3JDRSxFQUFpQkgsU0FBU0MsY0FBYywyQkFtQ3hDRyxHQVBtQkosU0FDN0JDLGNBQWMsa0JBQ2RJLFFBQVFKLGNBQWMsU0FDTEQsU0FBU0MsY0FBYyxjQUN0QkQsU0FBU00saUJBQWlCLFNBR3RCTixTQUFTQyxjQUFjLDZCQUNuQ00sRUFBZVAsU0FBU0MsY0FBYyx3QkFDdENPLEVBQWFSLFNBQVNDLGNBQWMscUJBVXBDUSxHQVRjVCxTQUFTQyxjQUFjLGlCQUdkRyxFQUFVSCxjQUFjLGlCQUUxRE0sRUFBYU4sY0FBYyxpQkFDUU8sRUFBV1AsY0FBYyxpQkFHN0JELFNBQVNDLGNBQWMsaUJBQzNDUyxFQUFnQlYsU0FBU0MsY0FBYyxlQUN2Q1UsRUFBbUJYLFNBQVNDLGNBQWMsV0FHMUNXLEVBQW1CUixFQUFVSCxjQUN4QywwQkFFV1ksRUFBeUJULEVBQVVILGNBQzlDLGdDLHNLQUUyQk0sRUFBYU4sY0FDeEMsZ0NBRTJCTSxFQUFhTixjQUN4QywrQkFFOEJELFNBQVNDLGNBQWMsY0FDakJELFNBQVNDLGNBQzdDLDZCQUVnQ0QsU0FBU00saUJBQWlCLGdCQUcvQkYsRUFBVUgsY0FBYyxnQkFDckJNLEVBQWFOLGNBQWMsZ0JBRzdCTyxFQUFXUCxjQUFjLGtCQUM3Qk8sRUFBV1AsY0FBYyxpQkFDdkJPLEVBQVdQLGNBQWMsbUJDcEY5QyxJQUFNYSxFQUFiLFdBQ0UsV0FDRUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FDQSxJLElBQUEsUSw0RkFBQSxTLEVBdURrQixXQXVCbEIsT0F0QkEsRUFBS0MsYUFBZSxFQUFLQyxjQUFjQyxXQUFVLEdBQ2pELEVBQUtDLFdBQWEsRUFBS0gsYUFBYXBCLGNBQWMsbUJBRWxELEVBQUt3QixXQUFhLEVBQUtKLGFBQWFwQixjQUFjLGdCQUVsRCxFQUFLdUIsV0FBV0UsWUFBYyxFQUFLQyxNQUNuQyxFQUFLRixXQUFXRyxJQUFNLEVBQUtDLE1BQzNCLEVBQUtKLFdBQVdLLElBQU0sRUFBS0gsTUFFdkIsRUFBS0ksV0FBYSxFQUFLQyxVQUN6QixFQUFLWCxhQUFhcEIsY0FBYyxpQkFBaUJnQyxNQUFNQyxRQUFVLFFBR25FLEVBQUtiLGFBQWFwQixjQUFjLHNCQUFzQnlCLFlBQ3BELEVBQUtTLE9BQU9DLE9BRVYsRUFBS0MsV0FDUCxFQUFLQyxTQUFTLEVBQUtILFFBR3JCLEVBQUtJLHFCQUVFLEVBQUtsQixlLEVBOUVaLDRCLHNCQUFBLEssdURBQUEsSyxLQUNBbUIsS0FBS2IsTUFBUVosRUFBSzBCLEtBQ2xCRCxLQUFLWCxNQUFRZCxFQUFLMkIsS0FDbEJGLEtBQUtMLE9BQVNwQixFQUFLNEIsTUFFbkJILEtBQUtJLHNCQUF3QjVCLEVBQzdCd0IsS0FBS0ssaUJBQW1CNUIsRUFDeEJ1QixLQUFLTSxrQkFBb0IzQixFQUN6QnFCLEtBQUtPLGtCQUFvQjdCLEVBQ3pCc0IsS0FBS1EsSUFBTWpDLEVBQUtpQyxJQUVoQlIsS0FBS1IsUUFBVVosRUFDZm9CLEtBQUtULFNBQVdoQixFQUFLa0MsTUFBTUQsSUFFM0JSLEtBQUtsQixjQUFnQnRCLFNBQ2xCQyxjQUFjZSxHQUNkWCxRQUFRSixjQUFjLFMsUUF4QjdCLE8sRUFBQSxHLEVBQUEsc0JBMkJFLFdBQVUsV0FDUixPQUFPdUMsS0FBS0wsT0FBT2UsTUFBSyxTQUFDQyxHQUFELE9BQVlBLEVBQU9ILE1BQVEsRUFBS2hCLGFBNUI1RCxzQkErQkUsU0FBU29CLEdBQ1BaLEtBQUtMLE9BQVNpQixFQUNkWixLQUFLbkIsYUFBYXBCLGNBQWMsc0JBQXNCeUIsWUFDcERjLEtBQUtMLE9BQU9DLE9BRWRJLEtBQUtuQixhQUNGcEIsY0FBYyxlQUNkb0QsVUFBVUMsT0FBTyxpQkFDcEJkLEtBQUtuQixhQUNGcEIsY0FBYyxlQUNkb0QsVUFBVUMsT0FBTyxrQkF6Q3hCLHdCQTRDRSxXQUNFZCxLQUFLbkIsYUFBYWtDLFNBQ2xCZixLQUFLbkIsYUFBZSxPQTlDeEIsZ0NBaURFLFdBQXFCLFdBQ25CbUIsS0FBS2YsV0FBYWUsS0FBS25CLGFBQWFwQixjQUFjLGdCQUNsRHVDLEtBQUtnQixjQUFnQmhCLEtBQUtuQixhQUFhcEIsY0FBYyxpQkFDckR1QyxLQUFLaUIsWUFBY2pCLEtBQUtuQixhQUFhcEIsY0FBYyxlQUVuRHVDLEtBQUtpQixZQUFZQyxpQkFBaUIsU0FBUyxrQkFDekMsRUFBS1gsa0JBQWtCLEVBQUtDLFFBRTlCUixLQUFLZ0IsY0FBY0UsaUJBQWlCLFNBQVMsa0JBQzNDLEVBQUtaLGtCQUFrQixFQUFLRSxRQUU5QlIsS0FBS2YsV0FBV2lDLGlCQUFpQixRQUFTbEIsS0FBS0ssdUIsaUJBNURuRCxLLDBLQ21FYWMsRUFBTSxJQWxFYkMsV0FDSixjQUFrQyxJQUFwQkMsRUFBb0IsRUFBcEJBLFFBQVNDLEVBQVcsRUFBWEEsUyw0RkFBVyxTQUNoQ3RCLEtBQUt1QixTQUFXRixFQUNoQnJCLEtBQUt3QixTQUFXRixFLG9EQUdsQixXQUNFLE9BQU9HLEVBQVksR0FBRCxPQUFJekIsS0FBS3VCLFNBQVQsVUFBMkIsQ0FDM0NELFFBQVN0QixLQUFLd0IsYSx5QkFJbEIsV0FDRSxPQUFPQyxFQUFZLEdBQUQsT0FBSXpCLEtBQUt1QixTQUFULGFBQThCLENBQzlDRCxRQUFTdEIsS0FBS3dCLGEsMEJBSWxCLFNBQWFqRCxHQUNYLE9BQU9rRCxFQUFZLEdBQUQsT0FBSXpCLEtBQUt1QixTQUFULGFBQThCLENBQzlDRCxRQUFTdEIsS0FBS3dCLFNBQ2RFLE9BQVEsUUFDUkMsS0FBTUMsS0FBS0MsVUFBVXRELE8sd0JBSXpCLFNBQVdBLEdBQ1QsT0FBT2tELEVBQVksR0FBRCxPQUFJekIsS0FBS3VCLFNBQVQsb0JBQXFDLENBQ3JERCxRQUFTdEIsS0FBS3dCLFNBQ2RFLE9BQVEsUUFDUkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQkMsT0FBUXZELFEsd0JBS2QsU0FBV0EsR0FDVCxPQUFPa0QsRUFBWSxHQUFELE9BQUl6QixLQUFLdUIsU0FBVCxVQUEyQixDQUMzQ0QsUUFBU3RCLEtBQUt3QixTQUNkRSxPQUFRLE9BQ1JDLEtBQU1DLEtBQUtDLFVBQVV0RCxPLHdCQUl6QixTQUFXd0QsR0FDVCxPQUFPTixFQUFZLEdBQUQsT0FBSXpCLEtBQUt1QixTQUFULGtCQUEyQlEsR0FBVSxDQUNyRFQsUUFBU3RCLEtBQUt3QixTQUNkRSxPQUFRLGEsc0JBSVosU0FBU0ssR0FDUCxPQUFPTixFQUFZLEdBQUQsT0FBSXpCLEtBQUt1QixTQUFULHdCQUFpQ1EsR0FBVSxDQUMzRFQsUUFBU3RCLEtBQUt3QixTQUNkRSxPQUFRLFUsd0JBSVosU0FBV0ssR0FDVCxPQUFPTixFQUFZLEdBQUQsT0FBSXpCLEtBQUt1QixTQUFULHdCQUFpQ1EsR0FBVSxDQUMzRFQsUUFBU3RCLEtBQUt3QixTQUNkRSxPQUFRLGdCLG1CQTdEUk4sR0FrRWEsQ0FBUSxDQUN6QkMsUUFBUyw4Q0FDVEMsUUFBUyxDQUNQVSxjQUFlLHVDQUNmLGVBQWdCLHNCQ2xFYixTQUFTQyxFQUFhMUQsR0FDM0IsSUFBTTJELEVBQWMsSUFBSTVELEVBQ3RCQyxFSCtFZ0Msa0JHN0VoQyxXQUNFNEQsR0FBY0MsS0FBSzdELEVBQUsyQixLQUFNM0IsRUFBSzBCLFNBRXJDLFNBQUNvQyxHQUN3QkgsRUFBWXJDLFVBR2pDc0IsRUFBSW1CLFdBQVdELEdBQUlFLE1BQUssU0FBQ0MsR0FDdkJOLEVBQVlwQyxTQUFTMEMsRUFBSXJDLFVBRzNCZ0IsRUFBSXJCLFNBQVN1QyxHQUFJRSxNQUFLLFNBQUNDLEdBQ3JCTixFQUFZcEMsU0FBUzBDLEVBQUlyQyxhQUkvQixTQUFDa0MsR0FDQ0ksR0FBYUwsT0FFYkssR0FBYUMsV0FBVSxXQUNyQkMsRUFBd0IsZUFDeEJ4QixFQUFBQSxXQUNja0IsR0FDWEUsTUFBSyxTQUFDQyxHQUNMTixFQUFZVSxhQUNaSCxHQUFhSSxXQUVkQyxTQUFRLGtCQUFNSCxFQUF3QixlQUc3Qy9ELEdBR0YsT0FBT3NELEVBQVlhLG9CQUdkLElBQU10QixFQUFjLFNBQUN1QixFQUFLMUIsR0FBTixPQUN6QjJCLE1BQU1ELEVBQUsxQixHQUNSaUIsTUFBSyxTQUFDQyxHQUFELE9BQVVBLEVBQUlVLEdBQUtWLEVBQUlXLE9BQVNDLFFBQVFDLE9BQU9iLEVBQUljLGVBQ3hEQyxNQUFNQyxRQUFRQyxNQUdaLFNBQVNkLEVBQXdCZSxHQUN2QmxHLFNBQVNDLGNBQWMsOEJBQy9CeUIsWUFBY3dFLEUsc0tDckRoQixJQUFNQyxFQUFiLFdBQ0UsYUFBMEJDLEdBQW1CLElBQS9CQyxFQUErQixFQUEvQkEsVSw0RkFBK0IsU0FDM0M3RCxLQUFLOEQsV0FBYXRHLFNBQVNDLGNBQWNtRyxHQUN6QzVELEtBQUsrRCxVQUFZRixFLFFBSHJCLE8sRUFBQSxHLEVBQUEsdUJBTUUsU0FBU3RGLEdBQU0sV0FDVEEsRUFBS3FCLFFBQ1ByQixFQUFLeUYsU0FBUSxTQUFDQyxHQUNaLEVBQUtGLFVBQVVFLFFBVHZCLHFCQWNFLFNBQVFDLEdBQ05sRSxLQUFLOEQsV0FBV0ssUUFBUUQsUSxpQkFmNUIsSyxzS0NBTyxJQUFNRSxFQUFiLFdBQ0UsV0FBWUMsSSw0RkFBZSxTQUN6QnJFLEtBQUtzRSxjQUFnQjlHLFNBQVNDLGNBQWM0RyxHQUM1Q3JFLEtBQUt1RSxnQkFBa0J2RSxLQUFLdUUsZ0JBQWdCQyxLQUFLeEUsTSxRQUhyRCxPLEVBQUEsRyxFQUFBLDhCQU1FLFNBQWdCeUUsR0FDRSxXQUFaQSxFQUFJaEksS0FDTnVELEtBQUs2QyxVQVJYLGtCQVlFLFdBQ0U3QyxLQUFLc0UsY0FBY3pELFVBQVU2RCxJQUFJLGdCQUNqQ2xILFNBQVMwRCxpQkFBaUIsUUFBU2xCLEtBQUt1RSxtQkFkNUMsbUJBaUJFLFdBQ0V2RSxLQUFLc0UsY0FBY3pELFVBQVVFLE9BQU8sZ0JBQ3BDdkQsU0FBU21ILG9CQUFvQixRQUFTM0UsS0FBS3VFLG1CQW5CL0MsK0JBc0JFLFdBQW9CLFdBQ2xCdkUsS0FBS3NFLGNBQWNwRCxpQkFBaUIsU0FBUyxTQUFDdUQsSUFFMUNBLEVBQUlHLE9BQU8vRCxVQUFVZ0UsU0FBUyxpQkFDN0JKLEVBQUlHLE9BQU9FLFFBQVEsc0JBRXBCLEVBQUtqQyxnQixpQkE1QmIsSyxzeUNDRU8sSUFBTWtDLEVBQWIsYSxrT0FBQSxVLFFBQUEsRyxFQUFBLEUsK1lBQ0UsV0FBWVYsRUFBZVcsR0FBZSxhLDRGQUFBLFVBQ3hDLGNBQU1YLElBQ0RZLGVBQWlCRCxFQUN0QixFQUFLRSxNQUFRLEVBQUtaLGNBQWM3RyxjQUFjLGdCQUhOLEVBRDVDLE8sRUFBQSxHLEVBQUEsOEJBT0UsV0FDRSxJLEVBQU0wSCxFLCtDQUFhbkYsS0FBS2tGLE1BQU1wSCxpQkFBaUIsa0IsZ2tCQUN6Q3NILEVBQWMsR0FNcEIsT0FKQUQsRUFBT25CLFNBQVEsU0FBQ3FCLEdBQ2RELEVBQVlDLEVBQU1wRixNQUFRb0YsRUFBTUMsU0FHM0JGLElBZlgsK0JBa0JFLFdBQW9CLFdBQ2xCLHNEQUNBcEYsS0FBS2tGLE1BQU1oRSxpQkFBaUIsVUFBVSxTQUFDcUUsR0FDckNBLEVBQUVDLGlCQUNGLEVBQUtQLGVBQWUsRUFBS1EsbUJBQ3pCLEVBQUs1QyxhQXZCWCxtQkEyQkUsV0FDRSwwQ0FDQTdDLEtBQUtrRixNQUFNUSxhLGlCQTdCZixHQUFtQ3RCLEcsZ1JDRjVCLElBQU11QixFQUFiLFdBQ0UsV0FBWXZJLEVBQVV3SSxHQUFhLEksSUFBQSxRLDRGQUFBLFMsRUF3QmQsV0FDbkIsSSxFQUFRdkksRUFBa0IsRUFBS3dJLFVBQXZCeEksY0FDUixFQUFLOEgsTywrQ0FBYSxFQUFLVyxhQUFhaEksaUJBQWlCVCxLLGdrQkFFckQsRUFBSzhILE9BQU9uQixTQUFRLFNBQUNxQixHQUNuQkEsRUFBTW5FLGlCQUFpQixTQUFTLFdBQzlCLEVBQUs2RSxlQUFlVixHQUNwQixFQUFLVyxtQkFBbUIsRUFBS2IsZ0IsRUEvQkEsNkIsc0JBQUEsSyx1REFBQSxLLEtBQ2pDbkYsS0FBSzZGLFVBQVl6SSxFQUNqQjRDLEtBQUs4RixhQUFlRixFLFFBSHhCLE8sRUFBQSxHLEVBQUEseUJBTUUsU0FBV1AsR0FDVCxJQUFNWSxFQUFRWixFQUFNYSxrQkFDQ2xHLEtBQUs4RixhQUFhckksY0FBbEIsV0FBb0M0SCxFQUFNaEQsR0FBMUMsV0FDUm5ELFlBQWMrRyxJQVQvQix3QkFZRSxTQUFXWixHQUNZckYsS0FBSzhGLGFBQWFySSxjQUFsQixXQUFvQzRILEVBQU1oRCxHQUExQyxXQUNSbkQsWUFBYyxLQWQvQiw0QkFpQkUsU0FBZW1HLEdBQ1RBLEVBQU1jLFNBQVNDLE1BQ2pCcEcsS0FBS3FHLFdBQVdoQixHQUVoQnJGLEtBQUtzRyxXQUFXakIsS0FyQnRCLGdDQXFDRSxXQUNFLElBQVEvSCxFQUF5QjBDLEtBQUs2RixVQUE5QnZJLHFCQUNGaUosRUFBU3ZHLEtBQUs4RixhQUFhckksY0FBY0gsR0FDekNrSixFQUFjeEcsS0FBS21GLE9BQU9zQixPQUFNLFNBQUNwQixHQUFELE9BQVdBLEVBQU1jLFNBQVNDLFNBQ2hFRyxFQUFPRyxVQUFZRixJQXpDdkIsNkJBNENFLFdBQWtCLFdBQ2hCeEcsS0FBS21GLE9BQU9uQixTQUFRLFNBQUNxQixHQUNuQixFQUFLZ0IsV0FBV2hCLFFBOUN0Qiw4QkFrREUsV0FDRXJGLEtBQUs4RixhQUFhNUUsaUJBQWlCLFVBQVUsU0FBQ3VELEdBQUQsT0FBU0EsRUFBSWUsb0JBRTFEeEYsS0FBS0QsMEIsaUJBckRULEssMHhDQ0VPLElBQU00RyxFQUFiLGEsa09BQUEsVSxRQUFBLEcsRUFBQSxFLCtZQUFBLDZELEVBQUEsRyxFQUFBLG1CQUNFLFNBQUt6RyxFQUFNRCxHQUNULElBQU0yRyxFQUFlNUcsS0FBS3NFLGNBQWM3RyxjQUFjLGlCQUNoRG9KLEVBQWlCN0csS0FBS3NFLGNBQWM3RyxjQUFjLG1CQUV4RG1KLEVBQWF4SCxJQUFNYyxFQUNuQjBHLEVBQWF0SCxJQUFNVyxFQUNuQjRHLEVBQWUzSCxZQUFjZSxFQUU3Qix5Q0FDQSwyRCxpQkFWSixHQUFvQ21FLEcsc0tDRjdCLElBQU0wQyxFQUFiLFdBQ0UsV0FBWUMsRUFBa0JDLEVBQXdCQyxJLDRGQUFnQixTQUNwRWpILEtBQUtrSCxpQkFBbUIxSixTQUFTQyxjQUFjc0osR0FDL0MvRyxLQUFLbUgsdUJBQXlCM0osU0FBU0MsY0FDckN1SixHQUVGaEgsS0FBS29ILHVCQUF5QjVKLFNBQVNDLGNBQWN3SixHLFFBTnpELE8sRUFBQSxFLEVBQUEsMEJBU0UsV0FDRSxNQUFPLENBQ0xJLFNBQVVySCxLQUFLa0gsaUJBQWlCaEksWUFDaENvSSxlQUFnQnRILEtBQUttSCx1QkFBdUJqSSxZQUM1Q3FJLFdBQVl2SCxLQUFLb0gsdUJBQXVCaEksT0FiOUMseUJBaUJFLFNBQVlvSSxHQUNWLElBQVF2SCxFQUF3QnVILEVBQXhCdkgsS0FBTXdILEVBQWtCRCxFQUFsQkMsTUFBTzNGLEVBQVcwRixFQUFYMUYsT0FDckI5QixLQUFLa0gsaUJBQWlCaEksWUFBY2UsRUFDcENELEtBQUttSCx1QkFBdUJqSSxZQUFjdUksRUFDMUN6SCxLQUFLb0gsdUJBQXVCaEksSUFBTTBDLEssb0JBckJ0QyxLLDB4Q0NDTyxJQ3lCSWxELEVEekJFOEksRUFBYixhLGtPQUFBLFUsUUFBQSxHLEVBQUEsRSwrWUFBQSw2RCxFQUFBLEcsRUFBQSx3QkFDRSxTQUFVQyxHQUNSM0gsS0FBS2lGLGVBQWlCMEMsSUFGMUIsK0JBS0UsV0FBb0IsV0FDbEIzSCxLQUFLc0UsY0FBY3BELGlCQUFpQixVQUFVLFNBQUNxRSxHQUM3Q0EsRUFBRUMsaUJBQ0YsRUFBS1Asb0JBRVAsMkQsaUJBVkosR0FBcUNiLEcsMkdDMkJyQ2hCLFFBQVF3RSxJQUFJLENBQUN6RyxFQUFJMEcsa0JBQW1CMUcsRUFBSTJHLGdCQUFnQnZGLE1BQ3RELFlBQTBCLEksSUFBQSxHLEVBQUEsRSw0Q0FBQSxJLGt4QkFBeEJ3RixFQUF3QixLQUFkQyxFQUFjLEtBQ3hCcEosRUFBU29KLEVBQVN4SCxJQUNsQnlILEdBQVNwRSxTQUFTa0UsR0FDbEJQLEdBQVNVLFlBQVksQ0FDbkJqSSxLQUFNK0gsRUFBUy9ILEtBQ2Z3SCxNQUFPTyxFQUFTUCxNQUNoQjNGLE9BQVFrRyxFQUFTbEcsWUFLdkIsSUFBTXFHLEdBQW9CLElBQUl4QyxFQUFjdkksRUFBVUcsR0FDaEQ2SyxHQUF1QixJQUFJekMsRUFBY3ZJLEVBQVVNLEdBQ25EMkssR0FBMEIsSUFBSTFDLEVBQWN2SSxFQUFVTyxHQUUvQ3dFLEdBQWdCLElBQUl3RSxFQUFlLHFCQUMxQzJCLEdBQWtCLElBQUl2RCxFQUFjLHdCQUF3QixTQUFDeEcsR0FDakVvRSxFQUF3QixhQUN4QnhCLEVBQUFBLFdBQ2MsQ0FBRWxCLEtBQU0xQixFQUFLLGNBQWUyQixLQUFNM0IsRUFBSyxlQUNsRGdFLE1BQUssU0FBQ2hFLEdBQ0wwSixHQUFTTSxRQUFRdEcsRUFBYTFELE9BRS9CdUUsU0FBUSxrQkFBTUgsRUFBd0IsZ0JBRzlCRixHQUFlLElBQUlpRixFQUFnQiwyQkFFMUNjLEdBQWUsSUFBSXpELEVBQ3ZCLDJCQUNBLFNBQUNpRCxHQUNDckYsRUFBd0IsYUFDeEJ4QixFQUFBQSxXQUNjNkcsRUFBUyxlQUNwQnpGLE1BQUssU0FBQ0MsR0FDTGdGLEdBQVNVLFlBQVkxRixNQUV0Qk0sU0FBUSxrQkFBTUgsRUFBd0IsY0FJN0MxRSxFQUFrQmlELGlCQUFpQixTQUFTLFdBQzFDLElBQU11SCxFQUFrQmpCLEdBQVNNLGNBQ2pDMUosRUFBaUJrSCxNQUFRbUQsRUFBZ0JwQixTQUN6Q2hKLEVBQXVCaUgsTUFBUW1ELEVBQWdCbkIsZUFDL0NvQixHQUFhdEcsVUFHZmxFLEVBQWNnRCxpQkFBaUIsU0FBUyxXQUN0Q29ILEdBQWdCbEcsVUFHbEJqRSxFQUFpQitDLGlCQUFpQixTQUFTLFdBQ3pDc0gsR0FBYXBHLFVBR2YrRixHQUFrQlEsbUJBQ2xCUCxHQUFxQk8sbUJBQ3JCTixHQUF3Qk0sbUJBRXhCUixHQUFrQlMsa0JBQ2xCUixHQUFxQlEsa0JBQ3JCUCxHQUF3Qk8sa0JBRXhCekcsR0FBYzBHLG9CQUNkUCxHQUFnQk8sb0JBQ2hCTCxHQUFhSyxvQkFDYnBHLEdBQWFvRyxvQkFFYixJQUFNckIsR0FBVyxJQUFJVixFWEpRLGFBQ00sNEJBRkwsa0JXV3hCNEIsR0FBZSxJQUFJM0QsRVhiTSw0QldheUIsU0FBQ3hHLEdBQ3ZEb0UsRUFBd0IsYUFDeEJ4QixFQUFBQSxhQUNnQixDQUFFbEIsS0FBTTFCLEVBQUswQixLQUFNd0gsTUFBT2xKLEVBQUt1SyxhQUM1Q3ZHLE1BQUssU0FBQ0MsR0FDTGdGLEdBQVNVLFlBQVksQ0FDbkJqSSxLQUFNdUMsRUFBSXZDLEtBQ1Z3SCxNQUFPakYsRUFBSWlGLE1BQ1gzRixPQUFRVSxFQUFJVixZQUdmZ0IsU0FBUSxrQkFBTUgsRUFBd0IsV0FDekMrRixHQUFhN0YsV0FHZjZGLEdBQWFHLG9CQUViLElBQU1aLEdBQVcsSUFBSXRFLEVBQ25CLENBQ0VFLFNBQVUsU0FBQ3RGLEdBQ1QwSixHQUFTTSxRQUFRdEcsRUFBYTFELE1YckNBLGUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0Xzgvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYl9wcm9qZWN0Xzgvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIuZmllbGQtaW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlXCIsXG59O1xuXG5leHBvcnQgY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZC1jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRBdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYXJkSXRlbSA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtdGVtcGxhdGVcIilcbiAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtbGlzdFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZFwiKTtcblxuLy8gbW9kYWxzXG5leHBvcnQgY29uc3QgZWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIik7XG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBvcGVuZWRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfb3BlbmVkXCIpO1xuXG4vLyBjbG9zZSBidXR0b25zXG5leHBvcnQgY29uc3QgZWRpdE1vZGFsQ2xvc2VCdXR0b24gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsQ2xvc2VCdXR0b24gPVxuICBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbENsb3NlQnV0dG9uID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcblxuLy8gb3BlbiBtb2RhbCBidXR0b25zXG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXZhdGFyXCIpO1xuXG4vLyBpbnB1dHNcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZUlucHV0ID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZpZWxkLWlucHV0X3R5cGVfbmFtZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIuZmllbGQtaW5wdXRfdHlwZV9wcm9mZXNzaW9uXCJcbik7XG5leHBvcnQgY29uc3QgY2FyZE5hbWVJbnB1dCA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5maWVsZC1pbnB1dF90eXBlX2NhcmQtdGl0bGVcIlxuKTtcbmV4cG9ydCBjb25zdCBjYXJkTGlua0lucHV0ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZpZWxkLWlucHV0X3R5cGVfY2FyZC1saW5rXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlLWluZm9fX3Byb2Zlc3Npb25cIlxuKTtcbmV4cG9ydCBjb25zdCBpbml0aWFsRmllbGRJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpZWxkLWlucHV0XCIpO1xuXG4vLyBmb3Jtc1xuZXhwb3J0IGNvbnN0IGVkaXRGb3JtTW9kYWwgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybU1vZGFsID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG5cbi8vIGltYWdlIG1vZGFsIGVsZW1lbnRzXG5leHBvcnQgY29uc3Qgb3BlbkltYWdlTW9kYWwgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ZpZ3VyZVwiKTtcbmV4cG9ydCBjb25zdCBpbWFnZVBvcHVwID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBjYXB0aW9uUG9wdXAgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XG5cbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGVTZWxlY3RvciA9IFwiLmNhcmQtdGVtcGxhdGVcIjtcbmV4cG9ydCBjb25zdCBsaXN0VGVtcGxhdGVTZWxlY3RvciA9IFwiLmNhcmQtbGlzdFwiO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVTZWxlY3RvciA9IFwiLm5hbWUtaW5wdXRcIjtcbmV4cG9ydCBjb25zdCBwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yID0gXCIucHJvZmVzc2lvbi1pbnB1dFwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTZWxlY3RvciA9IFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCI7XG5leHBvcnQgY29uc3QgdXNlckF2YXRhclZhbHVlID0gXCIuaW1hZ2UtbGlua1wiO1xuZXhwb3J0IGNvbnN0IGF2YXRhclNlbGVjdG9yID0gXCIuYXZhdGFyX19pbWFnZVwiO1xuZXhwb3J0IGNvbnN0IHVzZXJOYW1lVmFsdWUgPSBcIi5lZGl0LW5hbWVcIjtcbmV4cG9ydCBjb25zdCB1c2VyUHJvZmVzc2lvblZhbHVlID0gXCIucHJvZmlsZS1pbmZvX19wcm9mZXNzaW9uXCI7XG5cbmV4cG9ydCBjb25zdCBjYXJkVGl0bGVTZWxlY3RvciA9IFwiLmNhcmQtdGl0bGVcIjtcbmV4cG9ydCBjb25zdCBjYXJkTGlua1NlbGVjdG9yID0gXCIuY2FyZC1saW5rXCI7XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGEsXG4gICAgdGVtcGxhdGVDYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZUxpa2VCdXR0b24sXG4gICAgaGFuZGxlUmVtb3ZlQ2FyZCxcbiAgICB1c2VySWRcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcblxuICAgIHRoaXMuX3RlbXBsYXRlQ2FyZFNlbGVjdG9yID0gdGVtcGxhdGVDYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQgPSBoYW5kbGVSZW1vdmVDYXJkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG5cbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuXG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRlbXBsYXRlQ2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuICB9XG5cbiAgaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgocGVyc29uKSA9PiBwZXJzb24uX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9XG5cbiAgbGlrZUNhcmQobmV3TGlrZXMpIHtcbiAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZXMtY291bnRcIikudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIilcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiYnV0dG9uX2ZpbGxlZFwiKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKVxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJidXR0b25fZW1wdHlcIik7XG4gIH1cblxuICByZW1vdmVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fcmVtb3ZlXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIik7XG5cbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzLl9pZClcbiAgICApO1xuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQodGhpcy5faWQpXG4gICAgKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNhcmRDbGljayk7XG4gIH1cblxuICBjcmVhdGVDYXJkRWxlbWVudCA9ICgpID0+IHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19sb2NhdGlvblwiKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG5cbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuXG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19yZW1vdmVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZXMtY291bnRcIikudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XG4gICAgICB0aGlzLmxpa2VDYXJkKHRoaXMuX2xpa2VzKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9O1xufVxuIiwiaW1wb3J0IHsgY3VzdG9tRmV0Y2ggfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBlZGl0VXNlckluZm8oZGF0YSkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuICB9XG5cbiAgZWRpdEF2YXRhcihkYXRhKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBkYXRhLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxuXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgIH0pO1xuICB9XG5cbiAgdW5saWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJhNDIyYjkwYy1lZWY3LTQ3NzItOTE3Ny03Yzg5NWUwN2QyMjFcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuIiwiaW1wb3J0IHsgY2FyZFRlbXBsYXRlU2VsZWN0b3IgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XG5pbXBvcnQgeyBpbWFnZU1vZGFsTmV3LCBjb25maXJtUG9wdXAsIHVzZXJJZCB9IGZyb20gXCIuLi8uLi9wYWdlcy9pbmRleFwiO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxuICAgIGRhdGEsXG4gICAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXG4gICAgKCkgPT4ge1xuICAgICAgaW1hZ2VNb2RhbE5ldy5vcGVuKGRhdGEubGluaywgZGF0YS5uYW1lKTtcbiAgICB9LFxuICAgIChpZCkgPT4ge1xuICAgICAgY29uc3QgaXNBbHJlYWR5TGlrZWQgPSBjYXJkRWxlbWVudC5pc0xpa2VkKCk7XG5cbiAgICAgIGlmIChpc0FscmVhZHlMaWtlZCkge1xuICAgICAgICBhcGkudW5saWtlQ2FyZChpZCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY2FyZEVsZW1lbnQubGlrZUNhcmQocmVzLmxpa2VzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGkubGlrZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmRFbGVtZW50Lmxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgKGlkKSA9PiB7XG4gICAgICBjb25maXJtUG9wdXAub3BlbigpO1xuXG4gICAgICBjb25maXJtUG9wdXAuc2V0QWN0aW9uKCgpID0+IHtcbiAgICAgICAgdXBkYXRlUHJvY2Vzc2luZ01lc3NhZ2UoXCJEZWxldGluZy4uLlwiKTtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmRlbGV0ZUNhcmQoaWQpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB1cGRhdGVQcm9jZXNzaW5nTWVzc2FnZShcIlllc1wiKSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVzZXJJZFxuICApO1xuXG4gIHJldHVybiBjYXJkRWxlbWVudC5jcmVhdGVDYXJkRWxlbWVudCgpO1xufVxuXG5leHBvcnQgY29uc3QgY3VzdG9tRmV0Y2ggPSAodXJsLCBoZWFkZXJzKSA9PlxuICBmZXRjaCh1cmwsIGhlYWRlcnMpXG4gICAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpKVxuICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XG5cbi8vIGxldCBpbml0aWFsVGV4dEhvbGRlcjtcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQcm9jZXNzaW5nTWVzc2FnZShtZXNzYWdlKSB7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfb3BlbmVkIC5wb3B1cF9fc2F2ZVwiKTtcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbn1cbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICByZW5kZXJlcihkYXRhKSB7XG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XG4gICAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKSB8fFxuICAgICAgICAhZXZ0LnRhcmdldC5jbG9zZXN0KFwiLnBvcHVwX19jb250YWluZXJcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gc3VibWl0SGFuZGxlcjtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5maWVsZC1pbnB1dFwiKV07XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcblxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgX3Nob3dFcnJvcihpbnB1dCkge1xuICAgIGNvbnN0IGVycm9yID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3I7XG4gIH1cblxuICBfaGlkZUVycm9yKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9jaGVja1ZhbGlkaXR5KGlucHV0KSB7XG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zaG93RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGlucHV0U2VsZWN0b3IgfSA9IHRoaXMuX3NldHRpbmdzO1xuICAgIHRoaXMuaW5wdXRzID0gWy4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcildO1xuXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrVmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLmlucHV0cyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgY29uc3QgeyBzdWJtaXRCdXR0b25TZWxlY3RvciB9ID0gdGhpcy5fc2V0dGluZ3M7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgY29uc3QgaXNGb3JtVmFsaWQgPSB0aGlzLmlucHV0cy5ldmVyeSgoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkKTtcbiAgICBidXR0b24uZGlzYWJsZWQgPSAhaXNGb3JtVmFsaWQ7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4gZXZ0LnByZXZlbnREZWZhdWx0KCkpO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIG9wZW4obGluaywgbmFtZSkge1xuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbiAgICBjb25zdCBjYXB0aW9uRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xuXG4gICAgaW1hZ2VFbGVtZW50LnNyYyA9IGxpbms7XG4gICAgaW1hZ2VFbGVtZW50LmFsdCA9IG5hbWU7XG4gICAgY2FwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgc3VwZXIub3BlbigpO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJQcm9mZXNzaW9uU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyUHJvZmVzc2lvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlclByb2Zlc3Npb25TZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy5fYXZhdGFyU2VsZWN0b3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlck5hbWU6IHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIHVzZXJQcm9mZXNzaW9uOiB0aGlzLl91c2VyUHJvZmVzc2lvbkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICB1c2VyQXZhdGFyOiB0aGlzLl9hdmF0YXJTZWxlY3RvckVsZW1lbnQuc3JjLFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh1c2VySW5mbykge1xuICAgIGNvbnN0IHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9ID0gdXNlckluZm87XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl91c2VyUHJvZmVzc2lvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBzZXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKCk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQge1xuICBsaXN0VGVtcGxhdGVTZWxlY3RvcixcbiAgcHJvZmlsZVNlbGVjdG9yLFxuICBzZXR0aW5ncyxcbiAgZWRpdEZvcm0sXG4gIGFkZENhcmRGb3JtLFxuICBlZGl0QXZhdGFyRm9ybSxcbiAgZWRpdFByb2ZpbGVCdXR0b24sXG4gIGFkZENhcmRCdXR0b24sXG4gIHVzZXJQcm9mZXNzaW9uVmFsdWUsXG4gIHVzZXJOYW1lVmFsdWUsXG4gIHByb2ZpbGVOYW1lSW5wdXQsXG4gIHByb2ZpbGVQcm9mZXNzaW9uSW5wdXQsXG4gIGVkaXRBdmF0YXJCdXR0b24sXG4gIGF2YXRhclNlbGVjdG9yLFxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdlbmVyYXRlQ2FyZCwgdXBkYXRlUHJvY2Vzc2luZ01lc3NhZ2UgfSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvblwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvclwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhTdWJtaXQgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdFwiO1xuXG5leHBvcnQgbGV0IHVzZXJJZDtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKS50aGVuKFxuICAoW2NhcmREYXRhLCB1c2VyRGF0YV0pID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgY2FyZExpc3QucmVuZGVyZXIoY2FyZERhdGEpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICBhYm91dDogdXNlckRhdGEuYWJvdXQsXG4gICAgICBhdmF0YXI6IHVzZXJEYXRhLmF2YXRhcixcbiAgICB9KTtcbiAgfVxuKTtcblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZWRpdEZvcm0pO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkQ2FyZEZvcm0pO1xuY29uc3QgZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZWRpdEF2YXRhckZvcm0pO1xuXG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbE5ldyA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltYWdlXCIpO1xuY29uc3QgYWRkQ2FyZE1vZGFsTmV3ID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiLCAoZGF0YSkgPT4ge1xuICB1cGRhdGVQcm9jZXNzaW5nTWVzc2FnZShcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoeyBuYW1lOiBkYXRhW1wiY2FyZC10aXRsZVwiXSwgbGluazogZGF0YVtcImNhcmQtbGlua1wiXSB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGdlbmVyYXRlQ2FyZChkYXRhKSk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB1cGRhdGVQcm9jZXNzaW5nTWVzc2FnZShcIkNyZWF0ZVwiKSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhTdWJtaXQoXCIucG9wdXBfdHlwZV9yZW1vdmUtY2FyZFwiKTtcblxuY29uc3QgdXBkYXRlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3R5cGVfZWRpdC1hdmF0YXJcIixcbiAgKHVzZXJEYXRhKSA9PiB7XG4gICAgdXBkYXRlUHJvY2Vzc2luZ01lc3NhZ2UoXCJTYXZpbmcuLi5cIik7XG4gICAgYXBpXG4gICAgICAuZWRpdEF2YXRhcih1c2VyRGF0YVtcImltYWdlLWxpbmtcIl0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4gdXBkYXRlUHJvY2Vzc2luZ01lc3NhZ2UoXCJTYXZlXCIpKTtcbiAgfVxuKTtcblxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgY3VycmVudFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby51c2VyTmFtZTtcbiAgcHJvZmlsZVByb2Zlc3Npb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby51c2VyUHJvZmVzc2lvbjtcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGFkZENhcmRNb2RhbE5ldy5vcGVuKCk7XG59KTtcblxuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICB1cGRhdGVBdmF0YXIub3BlbigpO1xufSk7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmVkaXRBdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5hZGRDYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbmVkaXRBdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuXG5pbWFnZU1vZGFsTmV3LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRDYXJkTW9kYWxOZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnVwZGF0ZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxuICB1c2VyTmFtZVZhbHVlLFxuICB1c2VyUHJvZmVzc2lvblZhbHVlLFxuICBhdmF0YXJTZWxlY3RvclxuKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvZmlsZVNlbGVjdG9yLCAoZGF0YSkgPT4ge1xuICB1cGRhdGVQcm9jZXNzaW5nTWVzc2FnZShcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLmVkaXRVc2VySW5mbyh7IG5hbWU6IGRhdGEubmFtZSwgYWJvdXQ6IGRhdGEucHJvZmVzc2lvbiB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgICAgbmFtZTogcmVzLm5hbWUsXG4gICAgICAgIGFib3V0OiByZXMuYWJvdXQsXG4gICAgICAgIGF2YXRhcjogcmVzLmF2YXRhcixcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gdXBkYXRlUHJvY2Vzc2luZ01lc3NhZ2UoXCJTYXZlXCIpKTtcbiAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG59KTtcblxucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oZ2VuZXJhdGVDYXJkKGRhdGEpKTtcbiAgICB9LFxuICB9LFxuICBsaXN0VGVtcGxhdGVTZWxlY3RvclxuKTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNldHRpbmdzIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiZWRpdEZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRDYXJkRm9ybSIsImVkaXRBdmF0YXJGb3JtIiwiZWRpdE1vZGFsIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRDYXJkTW9kYWwiLCJpbWFnZU1vZGFsIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwiZWRpdEF2YXRhckJ1dHRvbiIsInByb2ZpbGVOYW1lSW5wdXQiLCJwcm9maWxlUHJvZmVzc2lvbklucHV0IiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZUNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUxpa2VCdXR0b24iLCJoYW5kbGVSZW1vdmVDYXJkIiwidXNlcklkIiwiX2NhcmRFbGVtZW50IiwiX2NhcmRUZW1wbGF0ZSIsImNsb25lTm9kZSIsIl9jYXJkVGl0bGUiLCJfY2FyZEltYWdlIiwidGV4dENvbnRlbnQiLCJfbmFtZSIsInNyYyIsIl9saW5rIiwiYWx0IiwiX293bmVySWQiLCJfdXNlcklkIiwic3R5bGUiLCJkaXNwbGF5IiwiX2xpa2VzIiwibGVuZ3RoIiwiaXNMaWtlZCIsImxpa2VDYXJkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwidGhpcyIsIm5hbWUiLCJsaW5rIiwibGlrZXMiLCJfdGVtcGxhdGVDYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZVJlbW92ZUNhcmQiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9pZCIsIm93bmVyIiwic29tZSIsInBlcnNvbiIsIm5ld0xpa2VzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiX3JlbW92ZUJ1dHRvbiIsIl9saWtlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFwaSIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImN1c3RvbUZldGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJjYXJkSWQiLCJhdXRob3JpemF0aW9uIiwiZ2VuZXJhdGVDYXJkIiwiY2FyZEVsZW1lbnQiLCJpbWFnZU1vZGFsTmV3Iiwib3BlbiIsImlkIiwidW5saWtlQ2FyZCIsInRoZW4iLCJyZXMiLCJjb25maXJtUG9wdXAiLCJzZXRBY3Rpb24iLCJ1cGRhdGVQcm9jZXNzaW5nTWVzc2FnZSIsInJlbW92ZUNhcmQiLCJjbG9zZSIsImZpbmFsbHkiLCJjcmVhdGVDYXJkRWxlbWVudCIsInVybCIsImZldGNoIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfY29udGFpbmVyIiwiX3JlbmRlcmVyIiwiZm9yRWFjaCIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0IiwiYWRkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2VzdCIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRIYW5kbGVyIiwiX3N1Ym1pdEhhbmRsZXIiLCJfZm9ybSIsImlucHV0cyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX2NoZWNrVmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJlcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwiYnV0dG9uIiwiaXNGb3JtVmFsaWQiLCJldmVyeSIsImRpc2FibGVkIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZUVsZW1lbnQiLCJjYXB0aW9uRWxlbWVudCIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJQcm9mZXNzaW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZUVsZW1lbnQiLCJfdXNlclByb2Zlc3Npb25FbGVtZW50IiwiX2F2YXRhclNlbGVjdG9yRWxlbWVudCIsInVzZXJOYW1lIiwidXNlclByb2Zlc3Npb24iLCJ1c2VyQXZhdGFyIiwidXNlckluZm8iLCJhYm91dCIsIlBvcHVwV2l0aFN1Ym1pdCIsImFjdGlvbiIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiY2FyZERhdGEiLCJ1c2VyRGF0YSIsImNhcmRMaXN0Iiwic2V0VXNlckluZm8iLCJlZGl0Rm9ybVZhbGlkYXRvciIsImFkZENhcmRGb3JtVmFsaWRhdG9yIiwiZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkTW9kYWxOZXciLCJhZGRJdGVtIiwidXBkYXRlQXZhdGFyIiwiY3VycmVudFVzZXJJbmZvIiwicHJvZmlsZVBvcHVwIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIiwicHJvZmVzc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=