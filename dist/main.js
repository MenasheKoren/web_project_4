(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{w$:()=>ne,$P:()=>ee,xS:()=>Q});var t={inputSelector:".field-input",submitButtonSelector:".popup__save"},n=document.querySelector(".popup_type_edit"),r=document.querySelector(".popup_type_add-card"),o=(document.querySelector(".card-template").content.querySelector(".card"),document.querySelector(".card-list"),document.querySelectorAll(".card"),document.querySelector(".popup_type_edit")),i=document.querySelector(".popup_type_add-card"),u=document.querySelector(".popup_type_image"),a=(document.querySelector(".popup_opened"),o.querySelector(".popup__close"),i.querySelector(".popup__close"),u.querySelector(".popup__close"),document.querySelector(".edit-button")),c=document.querySelector(".add-button"),l=o.querySelector(".field-input_type_name"),s=o.querySelector(".field-input_type_profession");function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.querySelector(".field-input_type_card-title"),i.querySelector(".field-input_type_card-link"),document.querySelector(".edit-name"),document.querySelector(".profile-info__profession"),document.querySelectorAll(".field-input"),o.querySelector(".popup__form"),i.querySelector(".popup__form"),u.querySelector(".popup__figure"),u.querySelector(".popup__image"),u.querySelector(".popup__caption");var p=function(){function e(t,n,r,o,i,u){var a,c,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c=function(){return l._cardElement=l._cardTemplate.cloneNode(!0),l._cardTitle=l._cardElement.querySelector(".card__location"),l._cardImage=l._cardElement.querySelector(".card__image"),l._cardTitle.textContent=l._name,l._cardImage.src=l._link,l._cardImage.alt=l._name,l._ownerId!==l._userId&&(l._cardElement.querySelector(".card__remove").style.display="none"),l._cardElement.querySelector(".card__likes-count").textContent=l._likes.length,l.isLiked()&&l.likeCard(l._likes),l._setEventListeners(),l._cardElement},(a="createCardElement")in this?Object.defineProperty(this,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):this[a]=c,this._name=t.name,this._link=t.link,this._likes=t.likes,this._templateCardSelector=n,this._handleCardClick=r,this._handleRemoveCard=i,this._handleLikeButton=o,this._id=t._id,this._userId=u,this._ownerId=t.owner._id,this._cardTemplate=document.querySelector(n).content.querySelector(".card")}var t,n;return t=e,(n=[{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"likeCard",value:function(e){this._likes=e,this._cardElement.querySelector(".card__likes-count").textContent=this._likes.length,this._cardElement.querySelector(".card__like").classList.toggle("button_filled"),this._cardElement.querySelector(".card__like").classList.toggle("button_empty")}},{key:"removeCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage=this._cardElement.querySelector(".card__image"),this._removeButton=this._cardElement.querySelector(".card__remove"),this._likeButton=this._cardElement.querySelector(".card__like"),this._likeButton.addEventListener("click",(function(){return e._handleLikeButton(e._id)})),this._removeButton.addEventListener("click",(function(){return e._handleRemoveCard(e._id)})),this._cardImage.addEventListener("click",this._handleCardClick)}}])&&f(t.prototype,n),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return _("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"getUserInfo",value:function(){return _("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"editUserInfo",value:function(e){return _("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}},{key:"createCard",value:function(e){return _("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return _("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"likeCard",value:function(e){return _("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}},{key:"unlikeCard",value:function(e){return _("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}])&&d(t.prototype,n),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"a422b90c-eef7-4772-9177-7c895e07d221","Content-Type":"application/json"}});function h(e){var t=new p(e,".card-template",(function(){ee.open(e.link,e.name)}),(function(e){t.isLiked()?y.unlikeCard(e).then((function(e){t.likeCard(e.likes)})):y.likeCard(e).then((function(e){t.likeCard(e.likes)}))}),(function(e){ne.open(),ne.setAction((function(){y.deleteCard(e).then((function(e){t.removeCard(),ne.close()}))}))}),Q);return t.createCardElement()}var _=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)})).catch(console.log)};function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=r}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.length&&e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&m(t.prototype,n),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){!t.target.classList.contains("popup__close")&&t.target.closest(".popup__container")||e.close()}))}}])&&b(t.prototype,n),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},w(e,t,n||e)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function C(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._submitHandler=t,n._form=n._popupElement.querySelector(".popup__form"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e,t=function(e){if(Array.isArray(e))return S(e)}(e=this._form.querySelectorAll(".field-input"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n={};return t.forEach((function(e){n[e.name]=e.value})),n}},{key:"setEventListeners",value:function(){var e=this;w(j(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler(e._getInputValues()),e.close()}))}},{key:"close",value:function(){w(j(u.prototype),"close",this).call(this),this._form.reset()}}])&&k(t.prototype,n),u}(E);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){var e,t=i._settings.inputSelector;i.inputs=function(e){if(Array.isArray(e))return P(e)}(e=i._formElement.querySelectorAll(t))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i.inputs.forEach((function(e){e.addEventListener("input",(function(){i._checkValidity(e),i._toggleButtonState(i.inputs)}))}))},(r="_setEventListeners")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._settings=t,this._formElement=n}var t,n;return t=e,(n=[{key:"_showError",value:function(e){var t=e.validationMessage;this._formElement.querySelector("#".concat(e.id,"-error")).textContent=t}},{key:"_hideError",value:function(e){this._formElement.querySelector("#".concat(e.id,"-error")).textContent=""}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_toggleButtonState",value:function(){var e=this._settings.submitButtonSelector,t=this._formElement.querySelector(e),n=this.inputs.every((function(e){return e.validity.valid}));t.disabled=!n}},{key:"resetValidation",value:function(){var e=this;this.inputs.forEach((function(t){e._hideError(t)}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){return e.preventDefault()})),this._setEventListeners()}}])&&L(t.prototype,n),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},U(e,t,n||e)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function B(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(o){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function u(){return T(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"open",value:function(e,t){var n=this._popupElement.querySelector(".popup__image"),r=this._popupElement.querySelector(".popup__caption");n.src=e,n.alt=t,r.textContent=t,U(D(u.prototype),"open",this).call(this),U(D(u.prototype),"setEventListeners",this).call(this)}}])&&A(t.prototype,n),u}(E);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=document.querySelector(t),this._userProfessionElement=document.querySelector(n)}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{userName:this._userNameElement.textContent,userProfession:this._userProfessionElement.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.profession;this._userNameElement.textContent=t,this._userProfessionElement.textContent=n}}],n&&N(t.prototype,n),e}();function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},z(e,t,n||e)}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function G(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var Q,W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(r);if(o){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return G(this,e)});function u(){return M(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"setAction",value:function(e){this._submitHandler=e}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler()})),z(K(u.prototype),"setEventListeners",this).call(this)}}])&&J(t.prototype,n),u}(E);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Promise.all([y.getInitialCards(),y.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Q=i._id,ie.renderer(o),re.setUserInfo({name:i.name,profession:i.about})}));var Y=new I(t,n),Z=new I(t,r),ee=new V(".popup_type_image"),te=new q(".popup_type_add-card",(function(e){y.createCard({name:e["card-title"],link:e["card-link"]}).then((function(e){ie.addItem(h(e))}))})),ne=new W(".popup_type_remove-card");ne.setEventListeners(),a.addEventListener("click",(function(){var e=re.getUserInfo();l.value=e.userName,s.value=e.userProfession,oe.open()})),c.addEventListener("click",(function(){te.open()})),Y.enableValidation(),Z.enableValidation(),Y.resetValidation(),Z.resetValidation(),ee.setEventListeners(),te.setEventListeners();var re=new H(".edit-name",".profile-info__profession"),oe=new q(".popup_type_edit",(function(e){y.editUserInfo({name:e.name,about:e.profession}).then((function(){re.setUserInfo({name:e.name,profession:e.profession})})),oe.close()}));oe.setEventListeners();var ie=new v({renderer:function(e){ie.addItem(h(e))}},".card-list")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxTQUFDL0QsR0FDTG9KLEdBQVNNLFFBQVFqRyxFQUFhekQsVUFJdkJpRSxHQUFlLElBQUk0RSxFQUFnQiwyQkFDaEQ1RSxHQUFhMEYsb0JBRWJoSyxFQUFrQmdELGlCQUFpQixTQUFTLFdBQzFDLElBQU1pSCxFQUFrQmpCLEdBQVNNLGNBQ2pDcEosRUFBaUIrRyxNQUFRZ0QsRUFBZ0JuQixTQUN6QzNJLEVBQXVCOEcsTUFBUWdELEVBQWdCbEIsZUFDL0NtQixHQUFhakcsVUFHZmhFLEVBQWMrQyxpQkFBaUIsU0FBUyxXQUN0QzhHLEdBQWdCN0YsVUFHbEIyRixFQUFrQk8sbUJBQ2xCTixFQUFxQk0sbUJBRXJCUCxFQUFrQlEsa0JBQ2xCUCxFQUFxQk8sa0JBRXJCcEcsR0FBY2dHLG9CQUNkRixHQUFnQkUsb0JBRWhCLElBQU1oQixHQUFXLElBQUlQLEVYeUJRLGFBQ00sNkJXeEI3QnlCLEdBQWUsSUFBSXhELEVYcUJNLG9CV3JCeUIsU0FBQ3JHLEdBQ3ZENEMsRUFBSW9ILGFBQWEsQ0FBRXRJLEtBQU0xQixFQUFLMEIsS0FBTTRILE1BQU90SixFQUFLNEksYUFBYzdFLE1BQUssV0FDakU0RSxHQUFTVSxZQUFZLENBQUUzSCxLQUFNMUIsRUFBSzBCLEtBQU1rSCxXQUFZNUksRUFBSzRJLGdCQUUzRGlCLEdBQWF4RixXQUdmd0YsR0FBYUYsb0JBRWIsSUFBTVAsR0FBVyxJQUFJbkUsRUFDbkIsQ0FDRUUsU0FBVSxTQUFDbkYsR0FDVG9KLEdBQVNNLFFBQVFqRyxFQUFhekQsTVhLQSxlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLmZpZWxkLWlucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXRcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIik7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlQ2FyZEl0ZW0gPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIi5jYXJkLXRlbXBsYXRlXCIpXG4gIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkLWxpc3RcIik7XG5leHBvcnQgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmRcIik7XG5cbi8vIG1vZGFsc1xuZXhwb3J0IGNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9lZGl0XCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBpbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IG9wZW5lZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuZWRcIik7XG5cbi8vIGNsb3NlIGJ1dHRvbnNcbmV4cG9ydCBjb25zdCBlZGl0TW9kYWxDbG9zZUJ1dHRvbiA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWxDbG9zZUJ1dHRvbiA9XG4gIGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcbmV4cG9ydCBjb25zdCBpbWFnZU1vZGFsQ2xvc2VCdXR0b24gPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpO1xuXG4vLyBvcGVuIG1vZGFsIGJ1dHRvbnNcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJ1dHRvblwiKTtcbi8vIGV4cG9ydCBjb25zdCByZW1vdmVDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigpXG5cbi8vIGlucHV0c1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIuZmllbGQtaW5wdXRfdHlwZV9uYW1lXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVByb2Zlc3Npb25JbnB1dCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5maWVsZC1pbnB1dF90eXBlX3Byb2Zlc3Npb25cIlxuKTtcbmV4cG9ydCBjb25zdCBjYXJkTmFtZUlucHV0ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZpZWxkLWlucHV0X3R5cGVfY2FyZC10aXRsZVwiXG4pO1xuZXhwb3J0IGNvbnN0IGNhcmRMaW5rSW5wdXQgPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIuZmllbGQtaW5wdXRfdHlwZV9jYXJkLWxpbmtcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LW5hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVByb2Zlc3Npb25WYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnByb2ZpbGUtaW5mb19fcHJvZmVzc2lvblwiXG4pO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxGaWVsZElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmllbGQtaW5wdXRcIik7XG5cbi8vIGZvcm1zXG5leHBvcnQgY29uc3QgZWRpdEZvcm1Nb2RhbCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtTW9kYWwgPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcblxuLy8gaW1hZ2UgbW9kYWwgZWxlbWVudHNcbmV4cG9ydCBjb25zdCBvcGVuSW1hZ2VNb2RhbCA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZmlndXJlXCIpO1xuZXhwb3J0IGNvbnN0IGltYWdlUG9wdXAgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IGNhcHRpb25Qb3B1cCA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcblxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9yID0gXCIuY2FyZC10ZW1wbGF0ZVwiO1xuZXhwb3J0IGNvbnN0IGxpc3RUZW1wbGF0ZVNlbGVjdG9yID0gXCIuY2FyZC1saXN0XCI7XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVNlbGVjdG9yID0gXCIubmFtZS1pbnB1dFwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3IgPSBcIi5wcm9mZXNzaW9uLWlucHV0XCI7XG5leHBvcnQgY29uc3QgcHJvZmlsZVNlbGVjdG9yID0gXCIucG9wdXBfdHlwZV9lZGl0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VyTmFtZVZhbHVlID0gXCIuZWRpdC1uYW1lXCI7XG5leHBvcnQgY29uc3QgdXNlclByb2Zlc3Npb25WYWx1ZSA9IFwiLnByb2ZpbGUtaW5mb19fcHJvZmVzc2lvblwiO1xuXG5leHBvcnQgY29uc3QgY2FyZFRpdGxlU2VsZWN0b3IgPSBcIi5jYXJkLXRpdGxlXCI7XG5leHBvcnQgY29uc3QgY2FyZExpbmtTZWxlY3RvciA9IFwiLmNhcmQtbGlua1wiO1xuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIHRlbXBsYXRlQ2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVMaWtlQnV0dG9uLFxuICAgIGhhbmRsZVJlbW92ZUNhcmQsXG4gICAgdXNlcklkXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG5cbiAgICB0aGlzLl90ZW1wbGF0ZUNhcmRTZWxlY3RvciA9IHRlbXBsYXRlQ2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkID0gaGFuZGxlUmVtb3ZlQ2FyZDtcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcblxuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZUNhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcbiAgfVxuXG4gIGlzTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKHBlcnNvbikgPT4gcGVyc29uLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgfVxuXG4gIGxpa2VDYXJkKG5ld0xpa2VzKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VzLWNvdW50XCIpLnRleHRDb250ZW50ID1cbiAgICAgIHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImJ1dHRvbl9maWxsZWRcIik7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIilcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiYnV0dG9uX2VtcHR5XCIpO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3JlbW92ZVwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpO1xuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5faWQpXG4gICAgKTtcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkKHRoaXMuX2lkKVxuICAgICk7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xuICB9XG5cbiAgY3JlYXRlQ2FyZEVsZW1lbnQgPSAoKSA9PiB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbG9jYXRpb25cIik7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fcmVtb3ZlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VzLWNvdW50XCIpLnRleHRDb250ZW50ID1cbiAgICAgIHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgdGhpcy5saWtlQ2FyZCh0aGlzLl9saWtlcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfTtcbn1cbiIsImltcG9ydCB7IGN1c3RvbUZldGNoIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5jbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICB9KTtcbiAgfVxuXG4gIHVubGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiYTQyMmI5MGMtZWVmNy00NzcyLTkxNzctN2M4OTVlMDdkMjIxXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcbiIsImltcG9ydCB7IGNhcmRUZW1wbGF0ZVNlbGVjdG9yIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xuaW1wb3J0IHsgaW1hZ2VNb2RhbE5ldywgY29uZmlybVBvcHVwLCB1c2VySWQgfSBmcm9tIFwiLi4vLi4vcGFnZXMvaW5kZXhcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcbiAgICBkYXRhLFxuICAgIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLFxuICAgICgpID0+IHtcbiAgICAgIGltYWdlTW9kYWxOZXcub3BlbihkYXRhLmxpbmssIGRhdGEubmFtZSk7XG4gICAgfSxcbiAgICAoaWQpID0+IHtcbiAgICAgIGNvbnN0IGlzQWxyZWFkeUxpa2VkID0gY2FyZEVsZW1lbnQuaXNMaWtlZCgpO1xuXG4gICAgICBpZiAoaXNBbHJlYWR5TGlrZWQpIHtcbiAgICAgICAgYXBpLnVubGlrZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmRFbGVtZW50Lmxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjYXJkRWxlbWVudC5saWtlQ2FyZChyZXMubGlrZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIChpZCkgPT4ge1xuICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcblxuICAgICAgY29uZmlybVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmVDYXJkKCk7XG4gICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB1c2VySWRcbiAgKTtcblxuICByZXR1cm4gY2FyZEVsZW1lbnQuY3JlYXRlQ2FyZEVsZW1lbnQoKTtcbn1cblxuZXhwb3J0IGNvbnN0IGN1c3RvbUZldGNoID0gKHVybCwgaGVhZGVycykgPT5cbiAgZmV0Y2godXJsLCBoZWFkZXJzKVxuICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpO1xuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIHJlbmRlcmVyKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlXCIpIHx8XG4gICAgICAgICFldnQudGFyZ2V0LmNsb3Nlc3QoXCIucG9wdXBfX2NvbnRhaW5lclwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0SGFuZGxlcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpZWxkLWlucHV0XCIpXTtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuXG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBfc2hvd0Vycm9yKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3IgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvcjtcbiAgfVxuXG4gIF9oaWRlRXJyb3IoaW5wdXQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgX2NoZWNrVmFsaWRpdHkoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaW5wdXRTZWxlY3RvciB9ID0gdGhpcy5fc2V0dGluZ3M7XG4gICAgdGhpcy5pbnB1dHMgPSBbLi4udGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKV07XG5cbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eShpbnB1dCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuaW5wdXRzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBjb25zdCB7IHN1Ym1pdEJ1dHRvblNlbGVjdG9yIH0gPSB0aGlzLl9zZXR0aW5ncztcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICBjb25zdCBpc0Zvcm1WYWxpZCA9IHRoaXMuaW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xuICAgIGJ1dHRvbi5kaXNhYmxlZCA9ICFpc0Zvcm1WYWxpZDtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiBldnQucHJldmVudERlZmF1bHQoKSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgb3BlbihsaW5rLCBuYW1lKSB7XG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuICAgIGNvbnN0IGNhcHRpb25FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XG5cbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gbGluaztcbiAgICBpbWFnZUVsZW1lbnQuYWx0ID0gbmFtZTtcbiAgICBjYXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3RvciwgdXNlclByb2Zlc3Npb25TZWxlY3Rvcikge1xuICAgIHRoaXMuX3VzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlclByb2Zlc3Npb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHVzZXJQcm9mZXNzaW9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJOYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICB1c2VyUHJvZmVzc2lvbjogdGhpcy5fdXNlclByb2Zlc3Npb25FbGVtZW50LnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh1c2VySW5mbykge1xuICAgIGNvbnN0IHsgbmFtZSwgcHJvZmVzc2lvbiB9ID0gdXNlckluZm87XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl91c2VyUHJvZmVzc2lvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBwcm9mZXNzaW9uO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBzZXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKCk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQge1xuICBsaXN0VGVtcGxhdGVTZWxlY3RvcixcbiAgcHJvZmlsZVNlbGVjdG9yLFxuICBzZXR0aW5ncyxcbiAgZWRpdEZvcm0sXG4gIGFkZENhcmRGb3JtLFxuICBlZGl0UHJvZmlsZUJ1dHRvbixcbiAgYWRkQ2FyZEJ1dHRvbixcbiAgdXNlclByb2Zlc3Npb25WYWx1ZSxcbiAgdXNlck5hbWVWYWx1ZSxcbiAgcHJvZmlsZU5hbWVJbnB1dCxcbiAgcHJvZmlsZVByb2Zlc3Npb25JbnB1dCxcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUNhcmQgfSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvblwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvclwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhTdWJtaXQgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdFwiO1xuXG5leHBvcnQgbGV0IHVzZXJJZDtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKS50aGVuKFxuICAoW2NhcmREYXRhLCB1c2VyRGF0YV0pID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgY2FyZExpc3QucmVuZGVyZXIoY2FyZERhdGEpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogdXNlckRhdGEubmFtZSwgcHJvZmVzc2lvbjogdXNlckRhdGEuYWJvdXQgfSk7XG4gIH1cbik7XG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGVkaXRGb3JtKTtcbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGFkZENhcmRGb3JtKTtcblxuZXhwb3J0IGNvbnN0IGltYWdlTW9kYWxOZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcbmNvbnN0IGFkZENhcmRNb2RhbE5ldyA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIiwgKGRhdGEpID0+IHtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoeyBuYW1lOiBkYXRhW1wiY2FyZC10aXRsZVwiXSwgbGluazogZGF0YVtcImNhcmQtbGlua1wiXSB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGdlbmVyYXRlQ2FyZChkYXRhKSk7XG4gICAgfSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhTdWJtaXQoXCIucG9wdXBfdHlwZV9yZW1vdmUtY2FyZFwiKTtcbmNvbmZpcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCBjdXJyZW50VXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLnVzZXJOYW1lO1xuICBwcm9maWxlUHJvZmVzc2lvbklucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLnVzZXJQcm9mZXNzaW9uO1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkQ2FyZE1vZGFsTmV3Lm9wZW4oKTtcbn0pO1xuXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5hZGRDYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5cbmltYWdlTW9kYWxOZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZENhcmRNb2RhbE5ldy5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh1c2VyTmFtZVZhbHVlLCB1c2VyUHJvZmVzc2lvblZhbHVlKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvZmlsZVNlbGVjdG9yLCAoZGF0YSkgPT4ge1xuICBhcGkuZWRpdFVzZXJJbmZvKHsgbmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5wcm9mZXNzaW9uIH0pLnRoZW4oKCkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogZGF0YS5uYW1lLCBwcm9mZXNzaW9uOiBkYXRhLnByb2Zlc3Npb24gfSk7XG4gIH0pO1xuICBwcm9maWxlUG9wdXAuY2xvc2UoKTtcbn0pO1xuXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShnZW5lcmF0ZUNhcmQoZGF0YSkpO1xuICAgIH0sXG4gIH0sXG4gIGxpc3RUZW1wbGF0ZVNlbGVjdG9yXG4pO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJlZGl0Rm9ybSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZENhcmRGb3JtIiwiZWRpdE1vZGFsIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRDYXJkTW9kYWwiLCJpbWFnZU1vZGFsIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwicHJvZmlsZU5hbWVJbnB1dCIsInByb2ZpbGVQcm9mZXNzaW9uSW5wdXQiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlQ2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUJ1dHRvbiIsImhhbmRsZVJlbW92ZUNhcmQiLCJ1c2VySWQiLCJfY2FyZEVsZW1lbnQiLCJfY2FyZFRlbXBsYXRlIiwiY2xvbmVOb2RlIiwiX2NhcmRUaXRsZSIsIl9jYXJkSW1hZ2UiLCJ0ZXh0Q29udGVudCIsIl9uYW1lIiwic3JjIiwiX2xpbmsiLCJhbHQiLCJfb3duZXJJZCIsIl91c2VySWQiLCJzdHlsZSIsImRpc3BsYXkiLCJfbGlrZXMiLCJsZW5ndGgiLCJpc0xpa2VkIiwibGlrZUNhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0aGlzIiwibmFtZSIsImxpbmsiLCJsaWtlcyIsIl90ZW1wbGF0ZUNhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlUmVtb3ZlQ2FyZCIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2lkIiwib3duZXIiLCJzb21lIiwicGVyc29uIiwibmV3TGlrZXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJfcmVtb3ZlQnV0dG9uIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiYXBpIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiY3VzdG9tRmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsImF1dGhvcml6YXRpb24iLCJnZW5lcmF0ZUNhcmQiLCJjYXJkRWxlbWVudCIsImltYWdlTW9kYWxOZXciLCJvcGVuIiwiaWQiLCJ1bmxpa2VDYXJkIiwidGhlbiIsInJlcyIsImNvbmZpcm1Qb3B1cCIsInNldEFjdGlvbiIsImRlbGV0ZUNhcmQiLCJyZW1vdmVDYXJkIiwiY2xvc2UiLCJjcmVhdGVDYXJkRWxlbWVudCIsInVybCIsImZldGNoIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJfcmVuZGVyZXIiLCJmb3JFYWNoIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJldnQiLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJjbG9zZXN0IiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEhhbmRsZXIiLCJfc3VibWl0SGFuZGxlciIsIl9mb3JtIiwiaW5wdXRzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfY2hlY2tWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvciIsIl9zaG93RXJyb3IiLCJidXR0b24iLCJpc0Zvcm1WYWxpZCIsImV2ZXJ5IiwiZGlzYWJsZWQiLCJQb3B1cFdpdGhJbWFnZSIsImltYWdlRWxlbWVudCIsImNhcHRpb25FbGVtZW50IiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlclByb2Zlc3Npb25TZWxlY3RvciIsIl91c2VyTmFtZUVsZW1lbnQiLCJfdXNlclByb2Zlc3Npb25FbGVtZW50IiwidXNlck5hbWUiLCJ1c2VyUHJvZmVzc2lvbiIsInVzZXJJbmZvIiwicHJvZmVzc2lvbiIsIlBvcHVwV2l0aFN1Ym1pdCIsImFjdGlvbiIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiY2FyZERhdGEiLCJ1c2VyRGF0YSIsImNhcmRMaXN0Iiwic2V0VXNlckluZm8iLCJhYm91dCIsImVkaXRGb3JtVmFsaWRhdG9yIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkTW9kYWxOZXciLCJhZGRJdGVtIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjdXJyZW50VXNlckluZm8iLCJwcm9maWxlUG9wdXAiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiZWRpdFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==