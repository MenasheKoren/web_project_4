(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{w$:()=>ne,$P:()=>ee,xS:()=>Q});var t={inputSelector:".field-input",submitButtonSelector:".popup__save"},n=document.querySelector(".popup_type_edit"),r=document.querySelector(".popup_type_add-card"),o=(document.querySelector(".card-template").content.querySelector(".card"),document.querySelector(".card-list"),document.querySelectorAll(".card"),document.querySelector(".popup_type_edit")),i=document.querySelector(".popup_type_add-card"),a=document.querySelector(".popup_type_image"),u=(document.querySelector(".popup_opened"),o.querySelector(".popup__close"),i.querySelector(".popup__close"),a.querySelector(".popup__close"),document.querySelector(".edit-button")),c=document.querySelector(".add-button"),l=o.querySelector(".field-input_type_name"),s=o.querySelector(".field-input_type_profession");function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.querySelector(".field-input_type_card-title"),i.querySelector(".field-input_type_card-link"),document.querySelector(".edit-name"),document.querySelector(".profile-info__profession"),document.querySelectorAll(".field-input"),o.querySelector(".popup__form"),i.querySelector(".popup__form"),a.querySelector(".popup__figure"),a.querySelector(".popup__image"),a.querySelector(".popup__caption");var p=function(){function e(t,n,r,o,i,a){var u,c,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c=function(){return l._cardElement=l._cardTemplate.cloneNode(!0),l._cardTitle=l._cardElement.querySelector(".card__location"),l._cardImage=l._cardElement.querySelector(".card__image"),l._cardTitle.textContent=l._name,l._cardImage.src=l._link,l._cardImage.alt=l._name,l._ownerId!==l._userId&&(l._cardElement.querySelector(".card__remove").style.display="none"),l._cardElement.querySelector(".card__likes-count").textContent=l._likes.length,l.isLiked()&&l.likeCard(l._likes),l._setEventListeners(),l._cardElement},(u="createCardElement")in this?Object.defineProperty(this,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):this[u]=c,this._name=t.name,this._link=t.link,this._likes=t.likes,this._templateCardSelector=n,this._handleCardClick=r,this._handleRemoveCard=i,this._handleLikeButton=o,this._id=t._id,this._userId=a,this._ownerId=t.owner._id,this._cardTemplate=document.querySelector(n).content.querySelector(".card")}var t,n;return t=e,(n=[{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"likeCard",value:function(e){this._likes=e,this._cardElement.querySelector(".card__likes-count").textContent=this._likes.length,this._cardElement.querySelector(".card__like").classList.toggle("button_filled"),this._cardElement.querySelector(".card__like").classList.toggle("button_empty")}},{key:"removeCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage=this._cardElement.querySelector(".card__image"),this._removeButton=this._cardElement.querySelector(".card__remove"),this._likeButton=this._cardElement.querySelector(".card__like"),this._likeButton.addEventListener("click",(function(){return e._handleLikeButton(e._id)})),this._removeButton.addEventListener("click",(function(){return e._handleRemoveCard(e._id)})),this._cardImage.addEventListener("click",this._handleCardClick)}}])&&f(t.prototype,n),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return _("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"getUserInfo",value:function(){return _("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"editUserInfo",value:function(e){return _("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}},{key:"editAvatar",value:function(e){return _("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}},{key:"createCard",value:function(e){return _("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return _("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"likeCard",value:function(e){return _("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}},{key:"unlikeCard",value:function(e){return _("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}])&&d(t.prototype,n),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"a422b90c-eef7-4772-9177-7c895e07d221","Content-Type":"application/json"}});function h(e){var t=new p(e,".card-template",(function(){ee.open(e.link,e.name)}),(function(e){t.isLiked()?y.unlikeCard(e).then((function(e){t.likeCard(e.likes)})):y.likeCard(e).then((function(e){t.likeCard(e.likes)}))}),(function(e){ne.open(),ne.setAction((function(){y.deleteCard(e).then((function(e){t.removeCard(),ne.close()}))}))}),Q);return t.createCardElement()}var _=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)})).catch(console.log)};function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=r}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.length&&e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&m(t.prototype,n),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){!t.target.classList.contains("popup__close")&&t.target.closest(".popup__container")||e.close()}))}}])&&b(t.prototype,n),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},w(e,t,n||e)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function C(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitHandler=t,n._form=n._popupElement.querySelector(".popup__form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e,t=function(e){if(Array.isArray(e))return S(e)}(e=this._form.querySelectorAll(".field-input"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n={};return t.forEach((function(e){n[e.name]=e.value})),n}},{key:"setEventListeners",value:function(){var e=this;w(j(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler(e._getInputValues()),e.close()}))}},{key:"close",value:function(){w(j(a.prototype),"close",this).call(this),this._form.reset()}}])&&k(t.prototype,n),a}(E);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){var e,t=i._settings.inputSelector;i.inputs=function(e){if(Array.isArray(e))return P(e)}(e=i._formElement.querySelectorAll(t))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i.inputs.forEach((function(e){e.addEventListener("input",(function(){i._checkValidity(e),i._toggleButtonState(i.inputs)}))}))},(r="_setEventListeners")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._settings=t,this._formElement=n}var t,n;return t=e,(n=[{key:"_showError",value:function(e){var t=e.validationMessage;this._formElement.querySelector("#".concat(e.id,"-error")).textContent=t}},{key:"_hideError",value:function(e){this._formElement.querySelector("#".concat(e.id,"-error")).textContent=""}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_toggleButtonState",value:function(){var e=this._settings.submitButtonSelector,t=this._formElement.querySelector(e),n=this.inputs.every((function(e){return e.validity.valid}));t.disabled=!n}},{key:"resetValidation",value:function(){var e=this;this.inputs.forEach((function(t){e._hideError(t)}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){return e.preventDefault()})),this._setEventListeners()}}])&&L(t.prototype,n),e}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},U(e,t,n||e)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function B(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(o){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function a(){return A(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"open",value:function(e,t){var n=this._popupElement.querySelector(".popup__image"),r=this._popupElement.querySelector(".popup__caption");n.src=e,n.alt=t,r.textContent=t,U(D(a.prototype),"open",this).call(this),U(D(a.prototype),"setEventListeners",this).call(this)}}])&&R(t.prototype,n),a}(E);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=document.querySelector(t),this._userProfessionElement=document.querySelector(n)}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{userName:this._userNameElement.textContent,userProfession:this._userProfessionElement.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.profession;this._userNameElement.textContent=t,this._userProfessionElement.textContent=n}}],n&&N(t.prototype,n),e}();function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},z(e,t,n||e)}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function G(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var Q,W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(r);if(o){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return G(this,e)});function a(){return M(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"setAction",value:function(e){this._submitHandler=e}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler()})),z(K(a.prototype),"setEventListeners",this).call(this)}}])&&J(t.prototype,n),a}(E);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Promise.all([y.getInitialCards(),y.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Q=i._id,ie.renderer(o),re.setUserInfo({name:i.name,profession:i.about})}));var Y=new I(t,n),Z=new I(t,r),ee=new V(".popup_type_image"),te=new q(".popup_type_add-card",(function(e){y.createCard({name:e["card-title"],link:e["card-link"]}).then((function(e){ie.addItem(h(e))}))})),ne=new W(".popup_type_remove-card");ne.setEventListeners(),u.addEventListener("click",(function(){var e=re.getUserInfo();l.value=e.userName,s.value=e.userProfession,oe.open()})),c.addEventListener("click",(function(){te.open()})),Y.enableValidation(),Z.enableValidation(),Y.resetValidation(),Z.resetValidation(),ee.setEventListeners(),te.setEventListeners();var re=new H(".edit-name",".profile-info__profession"),oe=new q(".popup_type_edit",(function(e){y.editUserInfo({name:e.name,about:e.profession}).then((function(){re.setUserInfo({name:e.name,profession:e.profession})})),oe.close()}));oe.setEventListeners();var ie=new v({renderer:function(e){ie.addItem(h(e))}},".card-list")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJc0UsRUFBZSxxQkFDMUN3QixHQUFrQixJQUFJcEQsRUFBYyx3QkFBd0IsU0FBQ3JHLEdBQ2pFNEMsRUFBQUEsV0FDYyxDQUFFbEIsS0FBTTFCLEVBQUssY0FBZTJCLEtBQU0zQixFQUFLLGVBQ2xEK0QsTUFBSyxTQUFDL0QsR0FDTG9KLEdBQVNNLFFBQVFqRyxFQUFhekQsVUFJdkJpRSxHQUFlLElBQUk0RSxFQUFnQiwyQkFDaEQ1RSxHQUFhMEYsb0JBRWJoSyxFQUFrQmdELGlCQUFpQixTQUFTLFdBQzFDLElBQU1pSCxFQUFrQmpCLEdBQVNNLGNBQ2pDcEosRUFBaUIrRyxNQUFRZ0QsRUFBZ0JuQixTQUN6QzNJLEVBQXVCOEcsTUFBUWdELEVBQWdCbEIsZUFDL0NtQixHQUFhakcsVUFHZmhFLEVBQWMrQyxpQkFBaUIsU0FBUyxXQUN0QzhHLEdBQWdCN0YsVUFHbEIyRixFQUFrQk8sbUJBQ2xCTixFQUFxQk0sbUJBRXJCUCxFQUFrQlEsa0JBQ2xCUCxFQUFxQk8sa0JBRXJCcEcsR0FBY2dHLG9CQUNkRixHQUFnQkUsb0JBRWhCLElBQU1oQixHQUFXLElBQUlQLEVYeUJRLGFBQ00sNkJXeEI3QnlCLEdBQWUsSUFBSXhELEVYcUJNLG9CV3JCeUIsU0FBQ3JHLEdBQ3ZENEMsRUFBSW9ILGFBQWEsQ0FBRXRJLEtBQU0xQixFQUFLMEIsS0FBTTRILE1BQU90SixFQUFLNEksYUFBYzdFLE1BQUssV0FDakU0RSxHQUFTVSxZQUFZLENBQUUzSCxLQUFNMUIsRUFBSzBCLEtBQU1rSCxXQUFZNUksRUFBSzRJLGdCQUUzRGlCLEdBQWF4RixXQUdmd0YsR0FBYUYsb0JBRWIsSUFBTVAsR0FBVyxJQUFJbkUsRUFDbkIsQ0FDRUUsU0FBVSxTQUFDbkYsR0FDVG9KLEdBQVNNLFFBQVFqRyxFQUFhekQsTVhLQSxlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLmZpZWxkLWlucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXRcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIik7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlQ2FyZEl0ZW0gPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIi5jYXJkLXRlbXBsYXRlXCIpXG4gIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkLWxpc3RcIik7XG5leHBvcnQgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmRcIik7XG5cbi8vIG1vZGFsc1xuZXhwb3J0IGNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9lZGl0XCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBpbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IG9wZW5lZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuZWRcIik7XG5cbi8vIGNsb3NlIGJ1dHRvbnNcbmV4cG9ydCBjb25zdCBlZGl0TW9kYWxDbG9zZUJ1dHRvbiA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWxDbG9zZUJ1dHRvbiA9XG4gIGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcbmV4cG9ydCBjb25zdCBpbWFnZU1vZGFsQ2xvc2VCdXR0b24gPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpO1xuXG4vLyBvcGVuIG1vZGFsIGJ1dHRvbnNcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJ1dHRvblwiKTtcbi8vIGV4cG9ydCBjb25zdCByZW1vdmVDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigpXG5cbi8vIGlucHV0c1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIuZmllbGQtaW5wdXRfdHlwZV9uYW1lXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVByb2Zlc3Npb25JbnB1dCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5maWVsZC1pbnB1dF90eXBlX3Byb2Zlc3Npb25cIlxuKTtcbmV4cG9ydCBjb25zdCBjYXJkTmFtZUlucHV0ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZpZWxkLWlucHV0X3R5cGVfY2FyZC10aXRsZVwiXG4pO1xuZXhwb3J0IGNvbnN0IGNhcmRMaW5rSW5wdXQgPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIuZmllbGQtaW5wdXRfdHlwZV9jYXJkLWxpbmtcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LW5hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVByb2Zlc3Npb25WYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnByb2ZpbGUtaW5mb19fcHJvZmVzc2lvblwiXG4pO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxGaWVsZElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmllbGQtaW5wdXRcIik7XG5cbi8vIGZvcm1zXG5leHBvcnQgY29uc3QgZWRpdEZvcm1Nb2RhbCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtTW9kYWwgPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcblxuLy8gaW1hZ2UgbW9kYWwgZWxlbWVudHNcbmV4cG9ydCBjb25zdCBvcGVuSW1hZ2VNb2RhbCA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZmlndXJlXCIpO1xuZXhwb3J0IGNvbnN0IGltYWdlUG9wdXAgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IGNhcHRpb25Qb3B1cCA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcblxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9yID0gXCIuY2FyZC10ZW1wbGF0ZVwiO1xuZXhwb3J0IGNvbnN0IGxpc3RUZW1wbGF0ZVNlbGVjdG9yID0gXCIuY2FyZC1saXN0XCI7XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVNlbGVjdG9yID0gXCIubmFtZS1pbnB1dFwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3IgPSBcIi5wcm9mZXNzaW9uLWlucHV0XCI7XG5leHBvcnQgY29uc3QgcHJvZmlsZVNlbGVjdG9yID0gXCIucG9wdXBfdHlwZV9lZGl0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VyTmFtZVZhbHVlID0gXCIuZWRpdC1uYW1lXCI7XG5leHBvcnQgY29uc3QgdXNlclByb2Zlc3Npb25WYWx1ZSA9IFwiLnByb2ZpbGUtaW5mb19fcHJvZmVzc2lvblwiO1xuXG5leHBvcnQgY29uc3QgY2FyZFRpdGxlU2VsZWN0b3IgPSBcIi5jYXJkLXRpdGxlXCI7XG5leHBvcnQgY29uc3QgY2FyZExpbmtTZWxlY3RvciA9IFwiLmNhcmQtbGlua1wiO1xuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIHRlbXBsYXRlQ2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVMaWtlQnV0dG9uLFxuICAgIGhhbmRsZVJlbW92ZUNhcmQsXG4gICAgdXNlcklkXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG5cbiAgICB0aGlzLl90ZW1wbGF0ZUNhcmRTZWxlY3RvciA9IHRlbXBsYXRlQ2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkID0gaGFuZGxlUmVtb3ZlQ2FyZDtcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcblxuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZUNhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcbiAgfVxuXG4gIGlzTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKHBlcnNvbikgPT4gcGVyc29uLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgfVxuXG4gIGxpa2VDYXJkKG5ld0xpa2VzKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VzLWNvdW50XCIpLnRleHRDb250ZW50ID1cbiAgICAgIHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImJ1dHRvbl9maWxsZWRcIik7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIilcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiYnV0dG9uX2VtcHR5XCIpO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3JlbW92ZVwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpO1xuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5faWQpXG4gICAgKTtcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkKHRoaXMuX2lkKVxuICAgICk7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xuICB9XG5cbiAgY3JlYXRlQ2FyZEVsZW1lbnQgPSAoKSA9PiB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbG9jYXRpb25cIik7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fcmVtb3ZlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VzLWNvdW50XCIpLnRleHRDb250ZW50ID1cbiAgICAgIHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgdGhpcy5saWtlQ2FyZCh0aGlzLl9saWtlcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfTtcbn1cbiIsImltcG9ydCB7IGN1c3RvbUZldGNoIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5jbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pO1xuICB9XG5cbiAgZWRpdEF2YXRhcihkYXRhKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxuXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgIH0pO1xuICB9XG5cbiAgdW5saWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJhNDIyYjkwYy1lZWY3LTQ3NzItOTE3Ny03Yzg5NWUwN2QyMjFcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuIiwiaW1wb3J0IHsgY2FyZFRlbXBsYXRlU2VsZWN0b3IgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XG5pbXBvcnQgeyBpbWFnZU1vZGFsTmV3LCBjb25maXJtUG9wdXAsIHVzZXJJZCB9IGZyb20gXCIuLi8uLi9wYWdlcy9pbmRleFwiO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxuICAgIGRhdGEsXG4gICAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXG4gICAgKCkgPT4ge1xuICAgICAgaW1hZ2VNb2RhbE5ldy5vcGVuKGRhdGEubGluaywgZGF0YS5uYW1lKTtcbiAgICB9LFxuICAgIChpZCkgPT4ge1xuICAgICAgY29uc3QgaXNBbHJlYWR5TGlrZWQgPSBjYXJkRWxlbWVudC5pc0xpa2VkKCk7XG5cbiAgICAgIGlmIChpc0FscmVhZHlMaWtlZCkge1xuICAgICAgICBhcGkudW5saWtlQ2FyZChpZCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY2FyZEVsZW1lbnQubGlrZUNhcmQocmVzLmxpa2VzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGkubGlrZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmRFbGVtZW50Lmxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgKGlkKSA9PiB7XG4gICAgICBjb25maXJtUG9wdXAub3BlbigpO1xuXG4gICAgICBjb25maXJtUG9wdXAuc2V0QWN0aW9uKCgpID0+IHtcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZUNhcmQoKTtcbiAgICAgICAgICBjb25maXJtUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVzZXJJZFxuICApO1xuXG4gIHJldHVybiBjYXJkRWxlbWVudC5jcmVhdGVDYXJkRWxlbWVudCgpO1xufVxuXG5leHBvcnQgY29uc3QgY3VzdG9tRmV0Y2ggPSAodXJsLCBoZWFkZXJzKSA9PlxuICBmZXRjaCh1cmwsIGhlYWRlcnMpXG4gICAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpKVxuICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG5cbiAgcmVuZGVyZXIoZGF0YSkge1xuICAgIGlmIChkYXRhLmxlbmd0aCkge1xuICAgICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2VcIikgfHxcbiAgICAgICAgIWV2dC50YXJnZXQuY2xvc2VzdChcIi5wb3B1cF9fY29udGFpbmVyXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRIYW5kbGVyKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IHN1Ym1pdEhhbmRsZXI7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmllbGQtaW5wdXRcIildO1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG5cbiAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcih0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9zaG93RXJyb3IoaW5wdXQpIHtcbiAgICBjb25zdCBlcnJvciA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yO1xuICB9XG5cbiAgX2hpZGVFcnJvcihpbnB1dCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBfY2hlY2tWYWxpZGl0eShpbnB1dCkge1xuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0KTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yIH0gPSB0aGlzLl9zZXR0aW5ncztcbiAgICB0aGlzLmlucHV0cyA9IFsuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGlucHV0U2VsZWN0b3IpXTtcblxuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5pbnB1dHMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGNvbnN0IHsgc3VibWl0QnV0dG9uU2VsZWN0b3IgfSA9IHRoaXMuX3NldHRpbmdzO1xuICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIGNvbnN0IGlzRm9ybVZhbGlkID0gdGhpcy5pbnB1dHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gIWlzRm9ybVZhbGlkO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IGV2dC5wcmV2ZW50RGVmYXVsdCgpKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBvcGVuKGxpbmssIG5hbWUpIHtcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgY29uc3QgY2FwdGlvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcblxuICAgIGltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xuICAgIGltYWdlRWxlbWVudC5hbHQgPSBuYW1lO1xuICAgIGNhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VyUHJvZmVzc2lvblNlbGVjdG9yKSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyUHJvZmVzc2lvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlclByb2Zlc3Npb25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlck5hbWU6IHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIHVzZXJQcm9mZXNzaW9uOiB0aGlzLl91c2VyUHJvZmVzc2lvbkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHVzZXJJbmZvKSB7XG4gICAgY29uc3QgeyBuYW1lLCBwcm9mZXNzaW9uIH0gPSB1c2VySW5mbztcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3VzZXJQcm9mZXNzaW9uRWxlbWVudC50ZXh0Q29udGVudCA9IHByb2Zlc3Npb247XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XG4gIHNldEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIGxpc3RUZW1wbGF0ZVNlbGVjdG9yLFxuICBwcm9maWxlU2VsZWN0b3IsXG4gIHNldHRpbmdzLFxuICBlZGl0Rm9ybSxcbiAgYWRkQ2FyZEZvcm0sXG4gIGVkaXRQcm9maWxlQnV0dG9uLFxuICBhZGRDYXJkQnV0dG9uLFxuICB1c2VyUHJvZmVzc2lvblZhbHVlLFxuICB1c2VyTmFtZVZhbHVlLFxuICBwcm9maWxlTmFtZUlucHV0LFxuICBwcm9maWxlUHJvZmVzc2lvbklucHV0LFxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdlbmVyYXRlQ2FyZCB9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mb1wiO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGlcIjtcbmltcG9ydCB7IFBvcHVwV2l0aFN1Ym1pdCB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0XCI7XG5cbmV4cG9ydCBsZXQgdXNlcklkO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckluZm8oKV0pLnRoZW4oXG4gIChbY2FyZERhdGEsIHVzZXJEYXRhXSkgPT4ge1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcbiAgICBjYXJkTGlzdC5yZW5kZXJlcihjYXJkRGF0YSk7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lOiB1c2VyRGF0YS5uYW1lLCBwcm9mZXNzaW9uOiB1c2VyRGF0YS5hYm91dCB9KTtcbiAgfVxuKTtcblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZWRpdEZvcm0pO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkQ2FyZEZvcm0pO1xuXG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbE5ldyA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltYWdlXCIpO1xuY29uc3QgYWRkQ2FyZE1vZGFsTmV3ID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiLCAoZGF0YSkgPT4ge1xuICBhcGlcbiAgICAuY3JlYXRlQ2FyZCh7IG5hbWU6IGRhdGFbXCJjYXJkLXRpdGxlXCJdLCBsaW5rOiBkYXRhW1wiY2FyZC1saW5rXCJdIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oZ2VuZXJhdGVDYXJkKGRhdGEpKTtcbiAgICB9KTtcbn0pO1xuXG5leHBvcnQgY29uc3QgY29uZmlybVBvcHVwID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5wb3B1cF90eXBlX3JlbW92ZS1jYXJkXCIpO1xuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRVc2VySW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8udXNlck5hbWU7XG4gIHByb2ZpbGVQcm9mZXNzaW9uSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8udXNlclByb2Zlc3Npb247XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhZGRDYXJkTW9kYWxOZXcub3BlbigpO1xufSk7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5hZGRDYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcblxuaW1hZ2VNb2RhbE5ldy5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkQ2FyZE1vZGFsTmV3LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHVzZXJOYW1lVmFsdWUsIHVzZXJQcm9mZXNzaW9uVmFsdWUpO1xuXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwcm9maWxlU2VsZWN0b3IsIChkYXRhKSA9PiB7XG4gIGFwaS5lZGl0VXNlckluZm8oeyBuYW1lOiBkYXRhLm5hbWUsIGFib3V0OiBkYXRhLnByb2Zlc3Npb24gfSkudGhlbigoKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lOiBkYXRhLm5hbWUsIHByb2Zlc3Npb246IGRhdGEucHJvZmVzc2lvbiB9KTtcbiAgfSk7XG4gIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xufSk7XG5cbnByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGdlbmVyYXRlQ2FyZChkYXRhKSk7XG4gICAgfSxcbiAgfSxcbiAgbGlzdFRlbXBsYXRlU2VsZWN0b3Jcbik7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzZXR0aW5ncyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImVkaXRGb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkQ2FyZEZvcm0iLCJlZGl0TW9kYWwiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImFkZENhcmRNb2RhbCIsImltYWdlTW9kYWwiLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImFkZENhcmRCdXR0b24iLCJwcm9maWxlTmFtZUlucHV0IiwicHJvZmlsZVByb2Zlc3Npb25JbnB1dCIsIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVDYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQnV0dG9uIiwiaGFuZGxlUmVtb3ZlQ2FyZCIsInVzZXJJZCIsIl9jYXJkRWxlbWVudCIsIl9jYXJkVGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwiX2NhcmRJbWFnZSIsInRleHRDb250ZW50IiwiX25hbWUiLCJzcmMiLCJfbGluayIsImFsdCIsIl9vd25lcklkIiwiX3VzZXJJZCIsInN0eWxlIiwiZGlzcGxheSIsIl9saWtlcyIsImxlbmd0aCIsImlzTGlrZWQiLCJsaWtlQ2FyZCIsIl9zZXRFdmVudExpc3RlbmVycyIsInRoaXMiLCJuYW1lIiwibGluayIsImxpa2VzIiwiX3RlbXBsYXRlQ2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVSZW1vdmVDYXJkIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaWQiLCJvd25lciIsInNvbWUiLCJwZXJzb24iLCJuZXdMaWtlcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIl9yZW1vdmVCdXR0b24iLCJfbGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcGkiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJjdXN0b21GZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYXV0aG9yaXphdGlvbiIsImdlbmVyYXRlQ2FyZCIsImNhcmRFbGVtZW50IiwiaW1hZ2VNb2RhbE5ldyIsIm9wZW4iLCJpZCIsInVubGlrZUNhcmQiLCJ0aGVuIiwicmVzIiwiY29uZmlybVBvcHVwIiwic2V0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsInJlbW92ZUNhcmQiLCJjbG9zZSIsImNyZWF0ZUNhcmRFbGVtZW50IiwidXJsIiwiZmV0Y2giLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImV2dCIsImFkZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsImNsb3Nlc3QiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0SGFuZGxlciIsIl9zdWJtaXRIYW5kbGVyIiwiX2Zvcm0iLCJpbnB1dHMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsIl9zZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl9jaGVja1ZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsImJ1dHRvbiIsImlzRm9ybVZhbGlkIiwiZXZlcnkiLCJkaXNhYmxlZCIsIlBvcHVwV2l0aEltYWdlIiwiaW1hZ2VFbGVtZW50IiwiY2FwdGlvbkVsZW1lbnQiLCJVc2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VyUHJvZmVzc2lvblNlbGVjdG9yIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VyUHJvZmVzc2lvbkVsZW1lbnQiLCJ1c2VyTmFtZSIsInVzZXJQcm9mZXNzaW9uIiwidXNlckluZm8iLCJwcm9mZXNzaW9uIiwiUG9wdXBXaXRoU3VibWl0IiwiYWN0aW9uIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJjYXJkRGF0YSIsInVzZXJEYXRhIiwiY2FyZExpc3QiLCJzZXRVc2VySW5mbyIsImFib3V0IiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImFkZENhcmRNb2RhbE5ldyIsImFkZEl0ZW0iLCJzZXRFdmVudExpc3RlbmVycyIsImN1cnJlbnRVc2VySW5mbyIsInByb2ZpbGVQb3B1cCIsImVuYWJsZVZhbGlkYXRpb24iLCJyZXNldFZhbGlkYXRpb24iLCJlZGl0VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9