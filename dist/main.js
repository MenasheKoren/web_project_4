(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{w$:()=>ie,$P:()=>re,xS:()=>X});var t={inputSelector:".field-input",submitButtonSelector:".popup__save"},n=document.querySelector(".popup_type_edit-profile"),r=document.querySelector(".popup_type_add-card"),o=document.querySelector(".popup_type_edit-avatar"),i=(document.querySelector(".card-template").content.querySelector(".card"),document.querySelector(".card-list"),document.querySelectorAll(".card"),document.querySelector(".popup_type_edit-profile")),a=document.querySelector(".popup_type_add-card"),u=document.querySelector(".popup_type_image"),c=(document.querySelector(".popup_opened"),i.querySelector(".popup__close"),a.querySelector(".popup__close"),u.querySelector(".popup__close"),document.querySelector(".edit-button")),l=document.querySelector(".add-button"),s=document.querySelector(".avatar"),f=i.querySelector(".field-input_type_name"),p=i.querySelector(".field-input_type_profession");function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}a.querySelector(".field-input_type_card-title"),a.querySelector(".field-input_type_card-link"),document.querySelector(".edit-name"),document.querySelector(".profile-info__profession"),document.querySelectorAll(".field-input"),i.querySelector(".popup__form"),a.querySelector(".popup__form"),u.querySelector(".popup__figure"),u.querySelector(".popup__image"),u.querySelector(".popup__caption");var y=function(){function e(t,n,r,o,i,a){var u,c,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c=function(){return l._cardElement=l._cardTemplate.cloneNode(!0),l._cardTitle=l._cardElement.querySelector(".card__location"),l._cardImage=l._cardElement.querySelector(".card__image"),l._cardTitle.textContent=l._name,l._cardImage.src=l._link,l._cardImage.alt=l._name,l._ownerId!==l._userId&&(l._cardElement.querySelector(".card__remove").style.display="none"),l._cardElement.querySelector(".card__likes-count").textContent=l._likes.length,l.isLiked()&&l.likeCard(l._likes),l._setEventListeners(),l._cardElement},(u="createCardElement")in this?Object.defineProperty(this,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):this[u]=c,this._name=t.name,this._link=t.link,this._likes=t.likes,this._templateCardSelector=n,this._handleCardClick=r,this._handleRemoveCard=i,this._handleLikeButton=o,this._id=t._id,this._userId=a,this._ownerId=t.owner._id,this._cardTemplate=document.querySelector(n).content.querySelector(".card")}var t,n;return t=e,(n=[{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"likeCard",value:function(e){this._likes=e,this._cardElement.querySelector(".card__likes-count").textContent=this._likes.length,this._cardElement.querySelector(".card__like").classList.toggle("button_filled"),this._cardElement.querySelector(".card__like").classList.toggle("button_empty")}},{key:"removeCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage=this._cardElement.querySelector(".card__image"),this._removeButton=this._cardElement.querySelector(".card__remove"),this._likeButton=this._cardElement.querySelector(".card__like"),this._likeButton.addEventListener("click",(function(){return e._handleLikeButton(e._id)})),this._removeButton.addEventListener("click",(function(){return e._handleRemoveCard(e._id)})),this._cardImage.addEventListener("click",this._handleCardClick)}}])&&d(t.prototype,n),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return v("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"getUserInfo",value:function(){return v("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"editUserInfo",value:function(e){return v("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}},{key:"editAvatar",value:function(e){return v("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}},{key:"createCard",value:function(e){return v("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return v("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"likeCard",value:function(e){return v("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}},{key:"unlikeCard",value:function(e){return v("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}])&&h(t.prototype,n),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"a422b90c-eef7-4772-9177-7c895e07d221","Content-Type":"application/json"}});function m(e){var t=new y(e,".card-template",(function(){re.open(e.link,e.name)}),(function(e){t.isLiked()?_.unlikeCard(e).then((function(e){t.likeCard(e.likes)})):_.likeCard(e).then((function(e){t.likeCard(e.likes)}))}),(function(e){ie.open(),ie.setAction((function(){var n=document.querySelector(".popup__save"),r=n.textContent.toString();n.textContent="Deleting...",_.deleteCard(e).then((function(e){t.removeCard(),ie.close()})).finally(n.textContent=r)}))}),X);return t.createCardElement()}var v=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)})).catch(console.log)};function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=r}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.length&&e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&b(t.prototype,n),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){!t.target.classList.contains("popup__close")&&t.target.closest(".popup__container")||e.close()}))}}])&&g(t.prototype,n),e}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},O(e,t,n||e)}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function j(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitHandler=t,n._form=n._popupElement.querySelector(".popup__form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e,t=function(e){if(Array.isArray(e))return w(e)}(e=this._form.querySelectorAll(".field-input"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n={};return t.forEach((function(e){n[e.name]=e.value})),n}},{key:"setEventListeners",value:function(){var e=this;O(P(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler(e._getInputValues()),e.close()}))}},{key:"close",value:function(){O(P(a.prototype),"close",this).call(this),this._form.reset()}}])&&C(t.prototype,n),a}(E);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){var e,t=i._settings.inputSelector;i.inputs=function(e){if(Array.isArray(e))return I(e)}(e=i._formElement.querySelectorAll(t))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i.inputs.forEach((function(e){e.addEventListener("input",(function(){i._checkValidity(e),i._toggleButtonState(i.inputs)}))}))},(r="_setEventListeners")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._settings=t,this._formElement=n}var t,n;return t=e,(n=[{key:"_showError",value:function(e){var t=e.validationMessage;this._formElement.querySelector("#".concat(e.id,"-error")).textContent=t}},{key:"_hideError",value:function(e){this._formElement.querySelector("#".concat(e.id,"-error")).textContent=""}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_toggleButtonState",value:function(){var e=this._settings.submitButtonSelector,t=this._formElement.querySelector(e),n=this.inputs.every((function(e){return e.validity.valid}));t.disabled=!n}},{key:"resetValidation",value:function(){var e=this;this.inputs.forEach((function(t){e._hideError(t)}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){return e.preventDefault()})),this._setEventListeners()}}])&&x(t.prototype,n),e}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},B(e,t,n||e)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function V(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(r);if(o){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function a(){return R(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"open",value:function(e,t){var n=this._popupElement.querySelector(".popup__image"),r=this._popupElement.querySelector(".popup__caption");n.src=e,n.alt=t,r.textContent=t,B(N(a.prototype),"open",this).call(this),B(N(a.prototype),"setEventListeners",this).call(this)}}])&&U(t.prototype,n),a}(E);function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=document.querySelector(t),this._userProfessionElement=document.querySelector(n),this._avatarSelectorElement=document.querySelector(r)}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{userName:this._userNameElement.textContent,userProfession:this._userProfessionElement.textContent,userAvatar:this._avatarSelectorElement.src}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._userNameElement.textContent=t,this._userProfessionElement.textContent=n,this._avatarSelectorElement.src=r}}],n&&$(t.prototype,n),e}();function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},G(e,t,n||e)}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function Q(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var X,Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(r);if(o){var n=W(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function a(){return z(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"setAction",value:function(e){this._submitHandler=e}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler()})),G(W(a.prototype),"setEventListeners",this).call(this)}}])&&F(t.prototype,n),a}(E);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Promise.all([_.getInitialCards(),_.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];X=i._id,le.renderer(o),ue.setUserInfo({name:i.name,about:i.about,avatar:i.avatar})}));var ee=new A(t,n),te=new A(t,r),ne=new A(t,o),re=new H(".popup_type_image"),oe=new L(".popup_type_add-card",(function(e){var t=document.querySelector(".popup_opened .popup__save"),n=t.textContent.toString();t.textContent="Saving...",_.createCard({name:e["card-title"],link:e["card-link"]}).then((function(e){le.addItem(m(e))})).finally(t.textContent=n)})),ie=new Y(".popup_type_remove-card"),ae=new L(".popup_type_edit-avatar",(function(e){var t=document.querySelector(".popup_opened .popup__save"),n=t.textContent.toString();t.textContent="Saving...",_.editAvatar(e["image-link"]).then((function(e){ue.setUserInfo(e)})).finally(t.textContent=n)}));c.addEventListener("click",(function(){var e=ue.getUserInfo();f.value=e.userName,p.value=e.userProfession,ce.open()})),l.addEventListener("click",(function(){oe.open()})),s.addEventListener("click",(function(){ae.open()})),ee.enableValidation(),te.enableValidation(),ne.enableValidation(),ee.resetValidation(),te.resetValidation(),ne.resetValidation(),re.setEventListeners(),oe.setEventListeners(),ae.setEventListeners(),ie.setEventListeners();var ue=new M(".edit-name",".profile-info__profession",".avatar"),ce=new L(".popup_type_edit-profile",(function(e){var t=document.querySelector(".popup_opened .popup__save"),n=t.textContent.toString();t.textContent="Saving...",_.editUserInfo({name:e.name,about:e.profession}).then((function(e){ue.setUserInfo({name:e.name,about:e.about,avatar:e.avatar}).finally(t.textContent=n)})),ce.close()}));ce.setEventListeners();var le=new S({renderer:function(e){le.addItem(m(e))}},".card-list")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0JqQixHQUFTTSxjQUNqQzFKLEVBQWlCbUgsTUFBUWtELEVBQWdCcEIsU0FDekNoSixFQUF1QmtILE1BQVFrRCxFQUFnQm5CLGVBQy9Db0IsR0FBYXRHLFVBR2ZsRSxFQUFjZ0QsaUJBQWlCLFNBQVMsV0FDdENvSCxHQUFnQmxHLFVBR2xCakUsRUFBaUIrQyxpQkFBaUIsU0FBUyxXQUN6Q3NILEdBQWFwRyxVQUdmK0YsR0FBa0JRLG1CQUNsQlAsR0FBcUJPLG1CQUNyQk4sR0FBd0JNLG1CQUV4QlIsR0FBa0JTLGtCQUNsQlIsR0FBcUJRLGtCQUNyQlAsR0FBd0JPLGtCQUV4QnpHLEdBQWMwRyxvQkFDZFAsR0FBZ0JPLG9CQUNoQkwsR0FBYUssb0JBQ2JwRyxHQUFhb0csb0JBRWIsSUFBTXJCLEdBQVcsSUFBSVYsRVhSUSxhQUNNLDRCQUZMLFdXZXhCNEIsR0FBZSxJQUFJMUQsRVhqQk0sNEJXaUJ5QixTQUFDekcsR0FDdkQsSUFBTW9FLEVBQVNuRixTQUFTQyxjQUFjLDhCQUNoQ21GLEVBQW9CRCxFQUFPekQsWUFBWTJELFdBQzdDRixFQUFPekQsWUFBYyxZQUNyQmlDLEVBQUkySCxhQUFhLENBQUU3SSxLQUFNMUIsRUFBSzBCLEtBQU13SCxNQUFPbEosRUFBS3dLLGFBQWN4RyxNQUFLLFNBQUNDLEdBQ2xFZ0YsR0FDR1UsWUFBWSxDQUNYakksS0FBTXVDLEVBQUl2QyxLQUNWd0gsTUFBT2pGLEVBQUlpRixNQUNYM0YsT0FBUVUsRUFBSVYsU0FFYmtCLFFBQVNMLEVBQU96RCxZQUFjMEQsTUFFbkM4RixHQUFhM0YsV0FHZjJGLEdBQWFHLG9CQUViLElBQU1aLEdBQVcsSUFBSXJFLEVBQ25CLENBQ0VFLFNBQVUsU0FBQ3ZGLEdBQ1QwSixHQUFTTSxRQUFRdEcsRUFBYTFELE1YMUNBLGUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0Xzgvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYl9wcm9qZWN0Xzgvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIuZmllbGQtaW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlXCIsXG59O1xuXG5leHBvcnQgY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZC1jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRBdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYXJkSXRlbSA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtdGVtcGxhdGVcIilcbiAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtbGlzdFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZFwiKTtcblxuLy8gbW9kYWxzXG5leHBvcnQgY29uc3QgZWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIik7XG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBvcGVuZWRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfb3BlbmVkXCIpO1xuXG4vLyBjbG9zZSBidXR0b25zXG5leHBvcnQgY29uc3QgZWRpdE1vZGFsQ2xvc2VCdXR0b24gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsQ2xvc2VCdXR0b24gPVxuICBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbENsb3NlQnV0dG9uID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcblxuLy8gb3BlbiBtb2RhbCBidXR0b25zXG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXZhdGFyXCIpO1xuXG4vLyBpbnB1dHNcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZUlucHV0ID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZpZWxkLWlucHV0X3R5cGVfbmFtZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIuZmllbGQtaW5wdXRfdHlwZV9wcm9mZXNzaW9uXCJcbik7XG5leHBvcnQgY29uc3QgY2FyZE5hbWVJbnB1dCA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5maWVsZC1pbnB1dF90eXBlX2NhcmQtdGl0bGVcIlxuKTtcbmV4cG9ydCBjb25zdCBjYXJkTGlua0lucHV0ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZpZWxkLWlucHV0X3R5cGVfY2FyZC1saW5rXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlLWluZm9fX3Byb2Zlc3Npb25cIlxuKTtcbmV4cG9ydCBjb25zdCBpbml0aWFsRmllbGRJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpZWxkLWlucHV0XCIpO1xuXG4vLyBmb3Jtc1xuZXhwb3J0IGNvbnN0IGVkaXRGb3JtTW9kYWwgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybU1vZGFsID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG5cbi8vIGltYWdlIG1vZGFsIGVsZW1lbnRzXG5leHBvcnQgY29uc3Qgb3BlbkltYWdlTW9kYWwgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ZpZ3VyZVwiKTtcbmV4cG9ydCBjb25zdCBpbWFnZVBvcHVwID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBjYXB0aW9uUG9wdXAgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XG5cbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGVTZWxlY3RvciA9IFwiLmNhcmQtdGVtcGxhdGVcIjtcbmV4cG9ydCBjb25zdCBsaXN0VGVtcGxhdGVTZWxlY3RvciA9IFwiLmNhcmQtbGlzdFwiO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVTZWxlY3RvciA9IFwiLm5hbWUtaW5wdXRcIjtcbmV4cG9ydCBjb25zdCBwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yID0gXCIucHJvZmVzc2lvbi1pbnB1dFwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTZWxlY3RvciA9IFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCI7XG5leHBvcnQgY29uc3QgdXNlckF2YXRhclZhbHVlID0gXCIuaW1hZ2UtbGlua1wiO1xuZXhwb3J0IGNvbnN0IGF2YXRhclNlbGVjdG9yID0gXCIuYXZhdGFyXCI7XG5leHBvcnQgY29uc3QgdXNlck5hbWVWYWx1ZSA9IFwiLmVkaXQtbmFtZVwiO1xuZXhwb3J0IGNvbnN0IHVzZXJQcm9mZXNzaW9uVmFsdWUgPSBcIi5wcm9maWxlLWluZm9fX3Byb2Zlc3Npb25cIjtcblxuZXhwb3J0IGNvbnN0IGNhcmRUaXRsZVNlbGVjdG9yID0gXCIuY2FyZC10aXRsZVwiO1xuZXhwb3J0IGNvbnN0IGNhcmRMaW5rU2VsZWN0b3IgPSBcIi5jYXJkLWxpbmtcIjtcbiIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICB0ZW1wbGF0ZUNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUJ1dHRvbixcbiAgICBoYW5kbGVSZW1vdmVDYXJkLFxuICAgIHVzZXJJZFxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuXG4gICAgdGhpcy5fdGVtcGxhdGVDYXJkU2VsZWN0b3IgPSB0ZW1wbGF0ZUNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCA9IGhhbmRsZVJlbW92ZUNhcmQ7XG4gICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbiA9IGhhbmRsZUxpa2VCdXR0b247XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcblxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG5cbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGVDYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChwZXJzb24pID0+IHBlcnNvbi5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cblxuICBsaWtlQ2FyZChuZXdMaWtlcykge1xuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlcy1jb3VudFwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKVxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJidXR0b25fZmlsbGVkXCIpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImJ1dHRvbl9lbXB0eVwiKTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19yZW1vdmVcIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKTtcblxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKHRoaXMuX2lkKVxuICAgICk7XG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCh0aGlzLl9pZClcbiAgICApO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2FyZENsaWNrKTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmRFbGVtZW50ID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xvY2F0aW9uXCIpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcblxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3JlbW92ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlcy1jb3VudFwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XG5cbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgIHRoaXMubGlrZUNhcmQodGhpcy5fbGlrZXMpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBjdXN0b21GZXRjaCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogKGRhdGEpXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICB9KTtcbiAgfVxuXG4gIHVubGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiYTQyMmI5MGMtZWVmNy00NzcyLTkxNzctN2M4OTVlMDdkMjIxXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcbiIsImltcG9ydCB7IGNhcmRUZW1wbGF0ZVNlbGVjdG9yIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xuaW1wb3J0IHsgaW1hZ2VNb2RhbE5ldywgY29uZmlybVBvcHVwLCB1c2VySWQgfSBmcm9tIFwiLi4vLi4vcGFnZXMvaW5kZXhcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcbiAgICBkYXRhLFxuICAgIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLFxuICAgICgpID0+IHtcbiAgICAgIGltYWdlTW9kYWxOZXcub3BlbihkYXRhLmxpbmssIGRhdGEubmFtZSk7XG4gICAgfSxcbiAgICAoaWQpID0+IHtcbiAgICAgIGNvbnN0IGlzQWxyZWFkeUxpa2VkID0gY2FyZEVsZW1lbnQuaXNMaWtlZCgpO1xuXG4gICAgICBpZiAoaXNBbHJlYWR5TGlrZWQpIHtcbiAgICAgICAgYXBpLnVubGlrZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmRFbGVtZW50Lmxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjYXJkRWxlbWVudC5saWtlQ2FyZChyZXMubGlrZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIChpZCkgPT4ge1xuICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcblxuICAgICAgY29uZmlybVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NhdmVcIik7XG4gICAgICAgIGNvbnN0IGluaXRpYWxUZXh0SG9sZGVyID0gYnV0dG9uLnRleHRDb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRpbmcuLi5cIjtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmRlbGV0ZUNhcmQoaWQpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmluYWxseSgoYnV0dG9uLnRleHRDb250ZW50ID0gaW5pdGlhbFRleHRIb2xkZXIpKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdXNlcklkXG4gICk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50LmNyZWF0ZUNhcmRFbGVtZW50KCk7XG59XG5cbmV4cG9ydCBjb25zdCBjdXN0b21GZXRjaCA9ICh1cmwsIGhlYWRlcnMpID0+XG4gIGZldGNoKHVybCwgaGVhZGVycylcbiAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICByZW5kZXJlcihkYXRhKSB7XG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XG4gICAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKSB8fFxuICAgICAgICAhZXZ0LnRhcmdldC5jbG9zZXN0KFwiLnBvcHVwX19jb250YWluZXJcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gc3VibWl0SGFuZGxlcjtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5maWVsZC1pbnB1dFwiKV07XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcblxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgX3Nob3dFcnJvcihpbnB1dCkge1xuICAgIGNvbnN0IGVycm9yID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3I7XG4gIH1cblxuICBfaGlkZUVycm9yKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9jaGVja1ZhbGlkaXR5KGlucHV0KSB7XG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zaG93RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGlucHV0U2VsZWN0b3IgfSA9IHRoaXMuX3NldHRpbmdzO1xuICAgIHRoaXMuaW5wdXRzID0gWy4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcildO1xuXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrVmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLmlucHV0cyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgY29uc3QgeyBzdWJtaXRCdXR0b25TZWxlY3RvciB9ID0gdGhpcy5fc2V0dGluZ3M7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgY29uc3QgaXNGb3JtVmFsaWQgPSB0aGlzLmlucHV0cy5ldmVyeSgoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkKTtcbiAgICBidXR0b24uZGlzYWJsZWQgPSAhaXNGb3JtVmFsaWQ7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4gZXZ0LnByZXZlbnREZWZhdWx0KCkpO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIG9wZW4obGluaywgbmFtZSkge1xuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbiAgICBjb25zdCBjYXB0aW9uRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xuXG4gICAgaW1hZ2VFbGVtZW50LnNyYyA9IGxpbms7XG4gICAgaW1hZ2VFbGVtZW50LmFsdCA9IG5hbWU7XG4gICAgY2FwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgc3VwZXIub3BlbigpO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJQcm9mZXNzaW9uU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyUHJvZmVzc2lvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlclByb2Zlc3Npb25TZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy5fYXZhdGFyU2VsZWN0b3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3RvcilcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VyTmFtZTogdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgdXNlclByb2Zlc3Npb246IHRoaXMuX3VzZXJQcm9mZXNzaW9uRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIHVzZXJBdmF0YXI6IHRoaXMuX2F2YXRhclNlbGVjdG9yRWxlbWVudC5zcmNcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8odXNlckluZm8pIHtcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSA9IHVzZXJJbmZvO1xuICAgIHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fdXNlclByb2Zlc3Npb25FbGVtZW50LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyU2VsZWN0b3JFbGVtZW50LnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcbiAgc2V0QWN0aW9uKGFjdGlvbikge1xuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBhY3Rpb247XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcigpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IHtcbiAgbGlzdFRlbXBsYXRlU2VsZWN0b3IsXG4gIHByb2ZpbGVTZWxlY3RvcixcbiAgc2V0dGluZ3MsXG4gIGVkaXRGb3JtLFxuICBhZGRDYXJkRm9ybSxcbiAgZWRpdEF2YXRhckZvcm0sXG4gIGVkaXRQcm9maWxlQnV0dG9uLFxuICBhZGRDYXJkQnV0dG9uLFxuICB1c2VyUHJvZmVzc2lvblZhbHVlLFxuICB1c2VyTmFtZVZhbHVlLFxuICBwcm9maWxlTmFtZUlucHV0LFxuICBwcm9maWxlUHJvZmVzc2lvbklucHV0LFxuICBlZGl0QXZhdGFyQnV0dG9uLFxuICBhdmF0YXJTZWxlY3Rvcixcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUNhcmQgfSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvblwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvclwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhTdWJtaXQgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdFwiO1xuXG5leHBvcnQgbGV0IHVzZXJJZDtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKS50aGVuKFxuICAoW2NhcmREYXRhLCB1c2VyRGF0YV0pID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgY2FyZExpc3QucmVuZGVyZXIoY2FyZERhdGEpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICBhYm91dDogdXNlckRhdGEuYWJvdXQsXG4gICAgICBhdmF0YXI6IHVzZXJEYXRhLmF2YXRhcixcbiAgICB9KTtcbiAgfVxuKTtcblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZWRpdEZvcm0pO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkQ2FyZEZvcm0pO1xuY29uc3QgZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZWRpdEF2YXRhckZvcm0pO1xuXG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbE5ldyA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltYWdlXCIpO1xuY29uc3QgYWRkQ2FyZE1vZGFsTmV3ID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiLCAoZGF0YSkgPT4ge1xuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX29wZW5lZCAucG9wdXBfX3NhdmVcIik7XG4gIGNvbnN0IGluaXRpYWxUZXh0SG9sZGVyID0gYnV0dG9uLnRleHRDb250ZW50LnRvU3RyaW5nKCk7XG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gIGFwaVxuICAgIC5jcmVhdGVDYXJkKHsgbmFtZTogZGF0YVtcImNhcmQtdGl0bGVcIl0sIGxpbms6IGRhdGFbXCJjYXJkLWxpbmtcIl0gfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShnZW5lcmF0ZUNhcmQoZGF0YSkpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKGJ1dHRvbi50ZXh0Q29udGVudCA9IGluaXRpYWxUZXh0SG9sZGVyKSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhTdWJtaXQoXCIucG9wdXBfdHlwZV9yZW1vdmUtY2FyZFwiKTtcblxuY29uc3QgdXBkYXRlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3R5cGVfZWRpdC1hdmF0YXJcIixcbiAgKHVzZXJEYXRhKSA9PiB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuZWQgLnBvcHVwX19zYXZlXCIpO1xuICAgIGNvbnN0IGluaXRpYWxUZXh0SG9sZGVyID0gYnV0dG9uLnRleHRDb250ZW50LnRvU3RyaW5nKCk7XG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgICBhcGlcbiAgICAgIC5lZGl0QXZhdGFyKHVzZXJEYXRhW1wiaW1hZ2UtbGlua1wiXSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoYnV0dG9uLnRleHRDb250ZW50ID0gaW5pdGlhbFRleHRIb2xkZXIpKTtcbiAgfVxuKTtcblxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgY3VycmVudFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby51c2VyTmFtZTtcbiAgcHJvZmlsZVByb2Zlc3Npb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby51c2VyUHJvZmVzc2lvbjtcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGFkZENhcmRNb2RhbE5ldy5vcGVuKCk7XG59KTtcblxuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICB1cGRhdGVBdmF0YXIub3BlbigpO1xufSk7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmVkaXRBdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5hZGRDYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbmVkaXRBdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuXG5pbWFnZU1vZGFsTmV3LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRDYXJkTW9kYWxOZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnVwZGF0ZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxuICB1c2VyTmFtZVZhbHVlLFxuICB1c2VyUHJvZmVzc2lvblZhbHVlLFxuICBhdmF0YXJTZWxlY3RvclxuKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvZmlsZVNlbGVjdG9yLCAoZGF0YSkgPT4ge1xuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX29wZW5lZCAucG9wdXBfX3NhdmVcIik7XG4gIGNvbnN0IGluaXRpYWxUZXh0SG9sZGVyID0gYnV0dG9uLnRleHRDb250ZW50LnRvU3RyaW5nKCk7XG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gIGFwaS5lZGl0VXNlckluZm8oeyBuYW1lOiBkYXRhLm5hbWUsIGFib3V0OiBkYXRhLnByb2Zlc3Npb24gfSkudGhlbigocmVzKSA9PiB7XG4gICAgdXNlckluZm9cbiAgICAgIC5zZXRVc2VySW5mbyh7XG4gICAgICAgIG5hbWU6IHJlcy5uYW1lLFxuICAgICAgICBhYm91dDogcmVzLmFib3V0LFxuICAgICAgICBhdmF0YXI6IHJlcy5hdmF0YXIsXG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKGJ1dHRvbi50ZXh0Q29udGVudCA9IGluaXRpYWxUZXh0SG9sZGVyKSk7XG4gIH0pO1xuICBwcm9maWxlUG9wdXAuY2xvc2UoKTtcbn0pO1xuXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShnZW5lcmF0ZUNhcmQoZGF0YSkpO1xuICAgIH0sXG4gIH0sXG4gIGxpc3RUZW1wbGF0ZVNlbGVjdG9yXG4pO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJlZGl0Rm9ybSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZENhcmRGb3JtIiwiZWRpdEF2YXRhckZvcm0iLCJlZGl0TW9kYWwiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImFkZENhcmRNb2RhbCIsImltYWdlTW9kYWwiLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImFkZENhcmRCdXR0b24iLCJlZGl0QXZhdGFyQnV0dG9uIiwicHJvZmlsZU5hbWVJbnB1dCIsInByb2ZpbGVQcm9mZXNzaW9uSW5wdXQiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlQ2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUJ1dHRvbiIsImhhbmRsZVJlbW92ZUNhcmQiLCJ1c2VySWQiLCJfY2FyZEVsZW1lbnQiLCJfY2FyZFRlbXBsYXRlIiwiY2xvbmVOb2RlIiwiX2NhcmRUaXRsZSIsIl9jYXJkSW1hZ2UiLCJ0ZXh0Q29udGVudCIsIl9uYW1lIiwic3JjIiwiX2xpbmsiLCJhbHQiLCJfb3duZXJJZCIsIl91c2VySWQiLCJzdHlsZSIsImRpc3BsYXkiLCJfbGlrZXMiLCJsZW5ndGgiLCJpc0xpa2VkIiwibGlrZUNhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0aGlzIiwibmFtZSIsImxpbmsiLCJsaWtlcyIsIl90ZW1wbGF0ZUNhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlUmVtb3ZlQ2FyZCIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2lkIiwib3duZXIiLCJzb21lIiwicGVyc29uIiwibmV3TGlrZXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJfcmVtb3ZlQnV0dG9uIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiYXBpIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiY3VzdG9tRmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhciIsImNhcmRJZCIsImF1dGhvcml6YXRpb24iLCJnZW5lcmF0ZUNhcmQiLCJjYXJkRWxlbWVudCIsImltYWdlTW9kYWxOZXciLCJvcGVuIiwiaWQiLCJ1bmxpa2VDYXJkIiwidGhlbiIsInJlcyIsImNvbmZpcm1Qb3B1cCIsInNldEFjdGlvbiIsImJ1dHRvbiIsImluaXRpYWxUZXh0SG9sZGVyIiwidG9TdHJpbmciLCJyZW1vdmVDYXJkIiwiY2xvc2UiLCJmaW5hbGx5IiwiY3JlYXRlQ2FyZEVsZW1lbnQiLCJ1cmwiLCJmZXRjaCIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfY29udGFpbmVyIiwiX3JlbmRlcmVyIiwiZm9yRWFjaCIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0IiwiYWRkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2VzdCIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRIYW5kbGVyIiwiX3N1Ym1pdEhhbmRsZXIiLCJfZm9ybSIsImlucHV0cyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX2NoZWNrVmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJlcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwiaXNGb3JtVmFsaWQiLCJldmVyeSIsImRpc2FibGVkIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZUVsZW1lbnQiLCJjYXB0aW9uRWxlbWVudCIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJQcm9mZXNzaW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZUVsZW1lbnQiLCJfdXNlclByb2Zlc3Npb25FbGVtZW50IiwiX2F2YXRhclNlbGVjdG9yRWxlbWVudCIsInVzZXJOYW1lIiwidXNlclByb2Zlc3Npb24iLCJ1c2VyQXZhdGFyIiwidXNlckluZm8iLCJhYm91dCIsIlBvcHVwV2l0aFN1Ym1pdCIsImFjdGlvbiIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiY2FyZERhdGEiLCJ1c2VyRGF0YSIsImNhcmRMaXN0Iiwic2V0VXNlckluZm8iLCJlZGl0Rm9ybVZhbGlkYXRvciIsImFkZENhcmRGb3JtVmFsaWRhdG9yIiwiZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkTW9kYWxOZXciLCJhZGRJdGVtIiwidXBkYXRlQXZhdGFyIiwiY3VycmVudFVzZXJJbmZvIiwicHJvZmlsZVBvcHVwIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiZWRpdFVzZXJJbmZvIiwicHJvZmVzc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=