(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{w$:()=>ie,$P:()=>ne,xS:()=>X});var t={inputSelector:".field-input",submitButtonSelector:".popup__save"},r=document.querySelector(".popup_type_edit-profile"),n=document.querySelector(".popup_type_add-card"),o=document.querySelector(".popup_type_edit-avatar"),i=(document.querySelector(".card-template").content.querySelector(".card"),document.querySelector(".card-list"),document.querySelectorAll(".card"),document.querySelector(".popup_type_edit-profile")),a=document.querySelector(".popup_type_add-card"),u=document.querySelector(".popup_type_image"),c=(document.querySelector(".popup_opened"),i.querySelector(".popup__close"),a.querySelector(".popup__close"),u.querySelector(".popup__close"),document.querySelector(".edit-button")),l=document.querySelector(".add-button"),s=document.querySelector(".avatar"),f=i.querySelector(".field-input_type_name"),p=i.querySelector(".field-input_type_profession");function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a.querySelector(".field-input_type_card-title"),a.querySelector(".field-input_type_card-link"),document.querySelector(".edit-name"),document.querySelector(".profile-info__profession"),document.querySelectorAll(".field-input"),i.querySelector(".popup__form"),a.querySelector(".popup__form"),u.querySelector(".popup__figure"),u.querySelector(".popup__image"),u.querySelector(".popup__caption");var y=function(){function e(t,r,n,o,i,a){var u,c,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c=function(){return l._cardElement=l._cardTemplate.cloneNode(!0),l._cardTitle=l._cardElement.querySelector(".card__location"),l._cardImage=l._cardElement.querySelector(".card__image"),l._cardTitle.textContent=l._name,l._cardImage.src=l._link,l._cardImage.alt=l._name,l._ownerId!==l._userId&&(l._cardElement.querySelector(".card__remove").style.display="none"),l._cardElement.querySelector(".card__likes-count").textContent=l._likes.length,l.isLiked()&&l.likeCard(l._likes),l._setEventListeners(),l._cardElement},(u="createCardElement")in this?Object.defineProperty(this,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):this[u]=c,this._name=t.name,this._link=t.link,this._likes=t.likes,this._templateCardSelector=r,this._handleCardClick=n,this._handleRemoveCard=i,this._handleLikeButton=o,this._id=t._id,this._userId=a,this._ownerId=t.owner._id,this._cardTemplate=document.querySelector(r).content.querySelector(".card")}var t,r;return t=e,(r=[{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"likeCard",value:function(e){this._likes=e,this._cardElement.querySelector(".card__likes-count").textContent=this._likes.length,this._cardElement.querySelector(".card__like").classList.toggle("button_filled"),this._cardElement.querySelector(".card__like").classList.toggle("button_empty")}},{key:"removeCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage=this._cardElement.querySelector(".card__image"),this._removeButton=this._cardElement.querySelector(".card__remove"),this._likeButton=this._cardElement.querySelector(".card__like"),this._likeButton.addEventListener("click",(function(){return e._handleLikeButton(e._id)})),this._removeButton.addEventListener("click",(function(){return e._handleRemoveCard(e._id)})),this._cardImage.addEventListener("click",this._handleCardClick)}}])&&d(t.prototype,r),e}();function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=new(function(){function e(t){var r=t.baseUrl,n=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=r,this._headers=n}var t,r;return t=e,(r=[{key:"getInitialCards",value:function(){return v("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"getUserInfo",value:function(){return v("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"editUserInfo",value:function(e){return v("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}},{key:"editAvatar",value:function(e){return v("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})})}},{key:"createCard",value:function(e){return v("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return v("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"likeCard",value:function(e){return v("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}},{key:"unlikeCard",value:function(e){return v("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}}])&&h(t.prototype,r),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"a422b90c-eef7-4772-9177-7c895e07d221","Content-Type":"application/json"}});function m(e){var t=new y(e,".card-template",(function(){ne.open(e.link,e.name)}),(function(e){t.isLiked()?_.unlikeCard(e).then((function(e){t.likeCard(e.likes)})):_.likeCard(e).then((function(e){t.likeCard(e.likes)}))}),(function(e){ie.open(),ie.setAction((function(){_.deleteCard(e).then((function(e){t.removeCard(),ie.close()}))}))}),X);return t.createCardElement()}var v=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)})).catch(console.log)};function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(){function e(t,r){var n=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(r),this._renderer=n}var t,r;return t=e,(r=[{key:"renderer",value:function(e){var t=this;e.length&&e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&b(t.prototype,r),e}();function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,r;return t=e,(r=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){!t.target.classList.contains("popup__close")&&t.target.closest(".popup__container")||e.close()}))}}])&&g(t.prototype,r),e}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t,r){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}},C(e,t,r||e)}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function j(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(n);if(o){var r=P(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return j(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._submitHandler=t,r._form=r._popupElement.querySelector(".popup__form"),r}return t=a,(r=[{key:"_getInputValues",value:function(){var e,t=function(e){if(Array.isArray(e))return w(e)}(e=this._form.querySelectorAll(".field-input"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r={};return t.forEach((function(e){r[e.name]=e.value})),r}},{key:"setEventListeners",value:function(){var e=this;C(P(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler(e._getInputValues()),e.close()}))}},{key:"close",value:function(){C(P(a.prototype),"close",this).call(this),this._form.reset()}}])&&O(t.prototype,r),a}(S);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var T=function(){function e(t,r){var n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){var e,t=i._settings.inputSelector;i.inputs=function(e){if(Array.isArray(e))return I(e)}(e=i._formElement.querySelectorAll(t))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i.inputs.forEach((function(e){e.addEventListener("input",(function(){i._checkValidity(e),i._toggleButtonState(i.inputs)}))}))},(n="_setEventListeners")in this?Object.defineProperty(this,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[n]=o,this._settings=t,this._formElement=r}var t,r;return t=e,(r=[{key:"_showError",value:function(e){var t=e.validationMessage;this._formElement.querySelector("#".concat(e.id,"-error")).textContent=t}},{key:"_hideError",value:function(e){this._formElement.querySelector("#".concat(e.id,"-error")).textContent=""}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_toggleButtonState",value:function(){var e=this._settings.submitButtonSelector,t=this._formElement.querySelector(e),r=this.inputs.every((function(e){return e.validity.valid}));t.disabled=!r}},{key:"resetValidation",value:function(){var e=this;this.inputs.forEach((function(t){e._hideError(t)}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){return e.preventDefault()})),this._setEventListeners()}}])&&A(t.prototype,r),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t,r){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}},B(e,t,r||e)}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function D(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(n);if(o){var r=N(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return D(this,e)});function a(){return U(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"open",value:function(e,t){var r=this._popupElement.querySelector(".popup__image"),n=this._popupElement.querySelector(".popup__caption");r.src=e,r.alt=t,n.textContent=t,B(N(a.prototype),"open",this).call(this),B(N(a.prototype),"setEventListeners",this).call(this)}}])&&x(t.prototype,r),a}(S);function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=document.querySelector(t),this._userProfessionElement=document.querySelector(r),this._avatarSelectorElement=document.querySelector(n)}var t,r;return t=e,r=[{key:"getUserInfo",value:function(){return{userName:this._userNameElement.textContent,userProfession:this._userProfessionElement.textContent,userAvatar:this._avatarSelectorElement.src}}},{key:"setUserInfo",value:function(e){var t=e.name,r=e.about,n=e.avatar;this._userNameElement.textContent=t,this._userProfessionElement.textContent=r,this._avatarSelectorElement.src=n}}],r&&$(t.prototype,r),e}();function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t,r){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}},G(e,t,r||e)}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function Q(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var X,Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(n);if(o){var r=W(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Q(this,e)});function a(){return z(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"setAction",value:function(e){this._submitHandler=e}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler()})),G(W(a.prototype),"setEventListeners",this).call(this)}}])&&F(t.prototype,r),a}(S);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Promise.all([_.getInitialCards(),_.getUserInfo()]).then((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];X=i._id,le.renderer(o),ue.setUserInfo({name:i.name,about:i.about,avatar:i.avatar})}));var ee=new T(t,r),te=new T(t,n),re=new T(t,o),ne=new H(".popup_type_image"),oe=new L(".popup_type_add-card",(function(e){_.createCard({name:e["card-title"],link:e["card-link"]}).then((function(e){le.addItem(m(e))}))})),ie=new Y(".popup_type_remove-card"),ae=new L(".popup_type_edit-avatar",(function(e){_.editAvatar(e["image-link"]).then((function(e){ue.setUserInfo(e)}))}));c.addEventListener("click",(function(){var e=ue.getUserInfo();f.value=e.userName,p.value=e.userProfession,ce.open()})),l.addEventListener("click",(function(){oe.open()})),s.addEventListener("click",(function(){ae.open()})),ee.enableValidation(),te.enableValidation(),re.enableValidation(),ee.resetValidation(),te.resetValidation(),re.resetValidation(),ne.setEventListeners(),oe.setEventListeners(),ae.setEventListeners(),ie.setEventListeners();var ue=new M(".edit-name",".profile-info__profession",".avatar"),ce=new L(".popup_type_edit-profile",(function(e){console.log("data :>> ",e),_.editUserInfo({name:e.name,about:e.profession}).then((function(e){console.log("res :>> ",e),ue.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})),ce.close()}));ce.setEventListeners();var le=new E({renderer:function(e){le.addItem(m(e))}},".card-list")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBRWIsSUFBTXRCLEdBQVcsSUFBSVYsRVhNUSxhQUNNLDRCQUZMLFdXSHhCNkIsR0FBZSxJQUFJNUQsRVhDTSw0QldEeUIsU0FBQ3RHLEdBQ3JEZ0YsUUFBUUMsSUFBSSxZQUFhakYsR0FDekI0QyxFQUFJMEgsYUFBYSxDQUFFNUksS0FBTTFCLEVBQUswQixLQUFNc0gsTUFBT2hKLEVBQUt1SyxhQUFhdkcsTUFBSyxTQUFDQyxHQUNqRWUsUUFBUUMsSUFBSSxXQUFZaEIsR0FDeEI4RSxHQUFTVSxZQUFZLENBQUUvSCxLQUFNdUMsRUFBSXZDLEtBQU1zSCxNQUFPL0UsRUFBSStFLE1BQU96RixPQUFRVSxFQUFJVixZQUV2RTJHLEdBQWE1RixXQUdqQjRGLEdBQWFHLG9CQUViLElBQU1iLEdBQVcsSUFBSXRFLEVBQ25CLENBQ0VFLFNBQVUsU0FBQ3BGLEdBQ1R3SixHQUFTTSxRQUFRcEcsRUFBYTFELE1YakJBLGUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0Xzgvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYl9wcm9qZWN0Xzgvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIuZmllbGQtaW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlXCIsXG59O1xuXG5leHBvcnQgY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZC1jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRBdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYXJkSXRlbSA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtdGVtcGxhdGVcIilcbiAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtbGlzdFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZFwiKTtcblxuLy8gbW9kYWxzXG5leHBvcnQgY29uc3QgZWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIik7XG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBvcGVuZWRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfb3BlbmVkXCIpO1xuXG4vLyBjbG9zZSBidXR0b25zXG5leHBvcnQgY29uc3QgZWRpdE1vZGFsQ2xvc2VCdXR0b24gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsQ2xvc2VCdXR0b24gPVxuICBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5leHBvcnQgY29uc3QgaW1hZ2VNb2RhbENsb3NlQnV0dG9uID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcblxuLy8gb3BlbiBtb2RhbCBidXR0b25zXG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXZhdGFyXCIpO1xuXG4vLyBpbnB1dHNcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZUlucHV0ID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZpZWxkLWlucHV0X3R5cGVfbmFtZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIuZmllbGQtaW5wdXRfdHlwZV9wcm9mZXNzaW9uXCJcbik7XG5leHBvcnQgY29uc3QgY2FyZE5hbWVJbnB1dCA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5maWVsZC1pbnB1dF90eXBlX2NhcmQtdGl0bGVcIlxuKTtcbmV4cG9ydCBjb25zdCBjYXJkTGlua0lucHV0ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZpZWxkLWlucHV0X3R5cGVfY2FyZC1saW5rXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlLWluZm9fX3Byb2Zlc3Npb25cIlxuKTtcbmV4cG9ydCBjb25zdCBpbml0aWFsRmllbGRJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpZWxkLWlucHV0XCIpO1xuXG4vLyBmb3Jtc1xuZXhwb3J0IGNvbnN0IGVkaXRGb3JtTW9kYWwgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybU1vZGFsID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG5cbi8vIGltYWdlIG1vZGFsIGVsZW1lbnRzXG5leHBvcnQgY29uc3Qgb3BlbkltYWdlTW9kYWwgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ZpZ3VyZVwiKTtcbmV4cG9ydCBjb25zdCBpbWFnZVBvcHVwID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBjYXB0aW9uUG9wdXAgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XG5cbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGVTZWxlY3RvciA9IFwiLmNhcmQtdGVtcGxhdGVcIjtcbmV4cG9ydCBjb25zdCBsaXN0VGVtcGxhdGVTZWxlY3RvciA9IFwiLmNhcmQtbGlzdFwiO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVTZWxlY3RvciA9IFwiLm5hbWUtaW5wdXRcIjtcbmV4cG9ydCBjb25zdCBwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yID0gXCIucHJvZmVzc2lvbi1pbnB1dFwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTZWxlY3RvciA9IFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCI7XG5leHBvcnQgY29uc3QgdXNlckF2YXRhclZhbHVlID0gXCIuaW1hZ2UtbGlua1wiO1xuZXhwb3J0IGNvbnN0IGF2YXRhclNlbGVjdG9yID0gXCIuYXZhdGFyXCI7XG5leHBvcnQgY29uc3QgdXNlck5hbWVWYWx1ZSA9IFwiLmVkaXQtbmFtZVwiO1xuZXhwb3J0IGNvbnN0IHVzZXJQcm9mZXNzaW9uVmFsdWUgPSBcIi5wcm9maWxlLWluZm9fX3Byb2Zlc3Npb25cIjtcblxuZXhwb3J0IGNvbnN0IGNhcmRUaXRsZVNlbGVjdG9yID0gXCIuY2FyZC10aXRsZVwiO1xuZXhwb3J0IGNvbnN0IGNhcmRMaW5rU2VsZWN0b3IgPSBcIi5jYXJkLWxpbmtcIjtcbiIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICB0ZW1wbGF0ZUNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUJ1dHRvbixcbiAgICBoYW5kbGVSZW1vdmVDYXJkLFxuICAgIHVzZXJJZFxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuXG4gICAgdGhpcy5fdGVtcGxhdGVDYXJkU2VsZWN0b3IgPSB0ZW1wbGF0ZUNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCA9IGhhbmRsZVJlbW92ZUNhcmQ7XG4gICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbiA9IGhhbmRsZUxpa2VCdXR0b247XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcblxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG5cbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGVDYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChwZXJzb24pID0+IHBlcnNvbi5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cblxuICBsaWtlQ2FyZChuZXdMaWtlcykge1xuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlcy1jb3VudFwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKVxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJidXR0b25fZmlsbGVkXCIpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImJ1dHRvbl9lbXB0eVwiKTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19yZW1vdmVcIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKTtcblxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKHRoaXMuX2lkKVxuICAgICk7XG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCh0aGlzLl9pZClcbiAgICApO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2FyZENsaWNrKTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmRFbGVtZW50ID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xvY2F0aW9uXCIpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcblxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3JlbW92ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlcy1jb3VudFwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XG5cbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgIHRoaXMubGlrZUNhcmQodGhpcy5fbGlrZXMpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBjdXN0b21GZXRjaCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogKGRhdGEpXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICB9KTtcbiAgfVxuXG4gIHVubGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiYTQyMmI5MGMtZWVmNy00NzcyLTkxNzctN2M4OTVlMDdkMjIxXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcbiIsImltcG9ydCB7IGNhcmRUZW1wbGF0ZVNlbGVjdG9yIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xuaW1wb3J0IHsgaW1hZ2VNb2RhbE5ldywgY29uZmlybVBvcHVwLCB1c2VySWQgfSBmcm9tIFwiLi4vLi4vcGFnZXMvaW5kZXhcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcbiAgICBkYXRhLFxuICAgIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLFxuICAgICgpID0+IHtcbiAgICAgIGltYWdlTW9kYWxOZXcub3BlbihkYXRhLmxpbmssIGRhdGEubmFtZSk7XG4gICAgfSxcbiAgICAoaWQpID0+IHtcbiAgICAgIGNvbnN0IGlzQWxyZWFkeUxpa2VkID0gY2FyZEVsZW1lbnQuaXNMaWtlZCgpO1xuXG4gICAgICBpZiAoaXNBbHJlYWR5TGlrZWQpIHtcbiAgICAgICAgYXBpLnVubGlrZUNhcmQoaWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmRFbGVtZW50Lmxpa2VDYXJkKHJlcy5saWtlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLmxpa2VDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjYXJkRWxlbWVudC5saWtlQ2FyZChyZXMubGlrZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIChpZCkgPT4ge1xuICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcblxuICAgICAgY29uZmlybVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGlkKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmVDYXJkKCk7XG4gICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB1c2VySWRcbiAgKTtcblxuICByZXR1cm4gY2FyZEVsZW1lbnQuY3JlYXRlQ2FyZEVsZW1lbnQoKTtcbn1cblxuZXhwb3J0IGNvbnN0IGN1c3RvbUZldGNoID0gKHVybCwgaGVhZGVycykgPT5cbiAgZmV0Y2godXJsLCBoZWFkZXJzKVxuICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpO1xuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIHJlbmRlcmVyKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlXCIpIHx8XG4gICAgICAgICFldnQudGFyZ2V0LmNsb3Nlc3QoXCIucG9wdXBfX2NvbnRhaW5lclwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0SGFuZGxlcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpZWxkLWlucHV0XCIpXTtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuXG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBfc2hvd0Vycm9yKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3IgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvcjtcbiAgfVxuXG4gIF9oaWRlRXJyb3IoaW5wdXQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgX2NoZWNrVmFsaWRpdHkoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaW5wdXRTZWxlY3RvciB9ID0gdGhpcy5fc2V0dGluZ3M7XG4gICAgdGhpcy5pbnB1dHMgPSBbLi4udGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKV07XG5cbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eShpbnB1dCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuaW5wdXRzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBjb25zdCB7IHN1Ym1pdEJ1dHRvblNlbGVjdG9yIH0gPSB0aGlzLl9zZXR0aW5ncztcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICBjb25zdCBpc0Zvcm1WYWxpZCA9IHRoaXMuaW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xuICAgIGJ1dHRvbi5kaXNhYmxlZCA9ICFpc0Zvcm1WYWxpZDtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiBldnQucHJldmVudERlZmF1bHQoKSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgb3BlbihsaW5rLCBuYW1lKSB7XG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuICAgIGNvbnN0IGNhcHRpb25FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XG5cbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gbGluaztcbiAgICBpbWFnZUVsZW1lbnQuYWx0ID0gbmFtZTtcbiAgICBjYXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3RvciwgdXNlclByb2Zlc3Npb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJQcm9mZXNzaW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB1c2VyUHJvZmVzc2lvblNlbGVjdG9yXG4gICAgKTtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKVxuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJOYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICB1c2VyUHJvZmVzc2lvbjogdGhpcy5fdXNlclByb2Zlc3Npb25FbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgdXNlckF2YXRhcjogdGhpcy5fYXZhdGFyU2VsZWN0b3JFbGVtZW50LnNyY1xuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh1c2VySW5mbykge1xuICAgIGNvbnN0IHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9ID0gdXNlckluZm87XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl91c2VyUHJvZmVzc2lvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBzZXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKCk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQge1xuICBsaXN0VGVtcGxhdGVTZWxlY3RvcixcbiAgcHJvZmlsZVNlbGVjdG9yLFxuICBzZXR0aW5ncyxcbiAgZWRpdEZvcm0sXG4gIGFkZENhcmRGb3JtLFxuICBlZGl0QXZhdGFyRm9ybSxcbiAgZWRpdFByb2ZpbGVCdXR0b24sXG4gIGFkZENhcmRCdXR0b24sXG4gIHVzZXJQcm9mZXNzaW9uVmFsdWUsXG4gIHVzZXJOYW1lVmFsdWUsXG4gIHByb2ZpbGVOYW1lSW5wdXQsXG4gIHByb2ZpbGVQcm9mZXNzaW9uSW5wdXQsXG4gIGVkaXRBdmF0YXJCdXR0b24sXG4gIHVzZXJBdmF0YXJWYWx1ZSxcbiAgYXZhdGFyU2VsZWN0b3Jcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUNhcmQgfSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvblwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvclwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhTdWJtaXQgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdFwiO1xuaW1wb3J0IHsgUG9wdXBXaXRoQXZhdGFyIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhBdmF0YXJcIjtcblxuZXhwb3J0IGxldCB1c2VySWQ7XG5cblByb21pc2UuYWxsKFthcGkuZ2V0SW5pdGlhbENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSkudGhlbihcbiAgKFtjYXJkRGF0YSwgdXNlckRhdGFdKSA9PiB7XG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xuICAgIGNhcmRMaXN0LnJlbmRlcmVyKGNhcmREYXRhKTtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHVzZXJEYXRhLm5hbWUsIGFib3V0OiB1c2VyRGF0YS5hYm91dCwgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIgfSk7XG4gIH1cbik7XG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGVkaXRGb3JtKTtcbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGFkZENhcmRGb3JtKTtcbmNvbnN0IGVkaXRBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGVkaXRBdmF0YXJGb3JtKTtcblxuZXhwb3J0IGNvbnN0IGltYWdlTW9kYWxOZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcbmNvbnN0IGFkZENhcmRNb2RhbE5ldyA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIiwgKGRhdGEpID0+IHtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoeyBuYW1lOiBkYXRhW1wiY2FyZC10aXRsZVwiXSwgbGluazogZGF0YVtcImNhcmQtbGlua1wiXSB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGdlbmVyYXRlQ2FyZChkYXRhKSk7XG4gICAgfSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhTdWJtaXQoXCIucG9wdXBfdHlwZV9yZW1vdmUtY2FyZFwiKTtcblxuY29uc3QgdXBkYXRlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9lZGl0LWF2YXRhclwiLCAodXNlckRhdGEpID0+IHtcbiAgwqAgYXBpLmVkaXRBdmF0YXIodXNlckRhdGFbJ2ltYWdlLWxpbmsnXSlcbiAgwqAgwqAgLnRoZW4oKHJlcykgPT4ge1xuICDCoCDCoCDCoCB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpXG4gIMKgIMKgIH0pXG4gIH0pO1xuXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCBjdXJyZW50VXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLnVzZXJOYW1lO1xuICBwcm9maWxlUHJvZmVzc2lvbklucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLnVzZXJQcm9mZXNzaW9uO1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkQ2FyZE1vZGFsTmV3Lm9wZW4oKTtcbn0pO1xuXG5lZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHVwZGF0ZUF2YXRhci5vcGVuKCk7XG59KTtcblxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkQ2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5lZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5cbmltYWdlTW9kYWxOZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZENhcmRNb2RhbE5ldy5zZXRFdmVudExpc3RlbmVycygpO1xudXBkYXRlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jb25maXJtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlck5hbWVWYWx1ZSwgdXNlclByb2Zlc3Npb25WYWx1ZSwgYXZhdGFyU2VsZWN0b3IpO1xuXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwcm9maWxlU2VsZWN0b3IsIChkYXRhKSA9PiB7XG4gIMKgIGNvbnNvbGUubG9nKCdkYXRhIDo+PiAnLCBkYXRhKTtcbiAgwqAgYXBpLmVkaXRVc2VySW5mbyh7IG5hbWU6IGRhdGEubmFtZSwgYWJvdXQ6IGRhdGEucHJvZmVzc2lvbn0pLnRoZW4oKHJlcykgPT4ge1xuICDCoCDCoCBjb25zb2xlLmxvZygncmVzIDo+PiAnLCByZXMpO1xuICDCoCDCoCB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHJlcy5uYW1lLCBhYm91dDogcmVzLmFib3V0LCBhdmF0YXI6IHJlcy5hdmF0YXIgfSk7XG4gIMKgIH0pO1xuICDCoCBwcm9maWxlUG9wdXAuY2xvc2UoKTtcbiAgfSk7XG5cbnByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGdlbmVyYXRlQ2FyZChkYXRhKSk7XG4gICAgfSxcbiAgfSxcbiAgbGlzdFRlbXBsYXRlU2VsZWN0b3Jcbik7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzZXR0aW5ncyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImVkaXRGb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkQ2FyZEZvcm0iLCJlZGl0QXZhdGFyRm9ybSIsImVkaXRNb2RhbCIsImNvbnRlbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkQ2FyZE1vZGFsIiwiaW1hZ2VNb2RhbCIsImVkaXRQcm9maWxlQnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJwcm9maWxlTmFtZUlucHV0IiwicHJvZmlsZVByb2Zlc3Npb25JbnB1dCIsIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVDYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQnV0dG9uIiwiaGFuZGxlUmVtb3ZlQ2FyZCIsInVzZXJJZCIsIl9jYXJkRWxlbWVudCIsIl9jYXJkVGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwiX2NhcmRJbWFnZSIsInRleHRDb250ZW50IiwiX25hbWUiLCJzcmMiLCJfbGluayIsImFsdCIsIl9vd25lcklkIiwiX3VzZXJJZCIsInN0eWxlIiwiZGlzcGxheSIsIl9saWtlcyIsImxlbmd0aCIsImlzTGlrZWQiLCJsaWtlQ2FyZCIsIl9zZXRFdmVudExpc3RlbmVycyIsInRoaXMiLCJuYW1lIiwibGluayIsImxpa2VzIiwiX3RlbXBsYXRlQ2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVSZW1vdmVDYXJkIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaWQiLCJvd25lciIsInNvbWUiLCJwZXJzb24iLCJuZXdMaWtlcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIl9yZW1vdmVCdXR0b24iLCJfbGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcGkiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJjdXN0b21GZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhdGFyIiwiY2FyZElkIiwiYXV0aG9yaXphdGlvbiIsImdlbmVyYXRlQ2FyZCIsImNhcmRFbGVtZW50IiwiaW1hZ2VNb2RhbE5ldyIsIm9wZW4iLCJpZCIsInVubGlrZUNhcmQiLCJ0aGVuIiwicmVzIiwiY29uZmlybVBvcHVwIiwic2V0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsInJlbW92ZUNhcmQiLCJjbG9zZSIsImNyZWF0ZUNhcmRFbGVtZW50IiwidXJsIiwiZmV0Y2giLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImV2dCIsImFkZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsImNsb3Nlc3QiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0SGFuZGxlciIsIl9zdWJtaXRIYW5kbGVyIiwiX2Zvcm0iLCJpbnB1dHMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsIl9zZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl9jaGVja1ZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsImJ1dHRvbiIsImlzRm9ybVZhbGlkIiwiZXZlcnkiLCJkaXNhYmxlZCIsIlBvcHVwV2l0aEltYWdlIiwiaW1hZ2VFbGVtZW50IiwiY2FwdGlvbkVsZW1lbnQiLCJVc2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VyUHJvZmVzc2lvblNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWVFbGVtZW50IiwiX3VzZXJQcm9mZXNzaW9uRWxlbWVudCIsIl9hdmF0YXJTZWxlY3RvckVsZW1lbnQiLCJ1c2VyTmFtZSIsInVzZXJQcm9mZXNzaW9uIiwidXNlckF2YXRhciIsInVzZXJJbmZvIiwiYWJvdXQiLCJQb3B1cFdpdGhTdWJtaXQiLCJhY3Rpb24iLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImNhcmREYXRhIiwidXNlckRhdGEiLCJjYXJkTGlzdCIsInNldFVzZXJJbmZvIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImVkaXRBdmF0YXJGb3JtVmFsaWRhdG9yIiwiYWRkQ2FyZE1vZGFsTmV3IiwiYWRkSXRlbSIsInVwZGF0ZUF2YXRhciIsImVkaXRBdmF0YXIiLCJjdXJyZW50VXNlckluZm8iLCJwcm9maWxlUG9wdXAiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJlZGl0VXNlckluZm8iLCJwcm9mZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==